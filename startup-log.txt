
> llmdesktopmascot@1.0.0 start
> electron-forge start

â¯ Checking your system
â¯ Checking package manager version
âœ” Found npm@11.3.0
âœ” Checking your system
[?25hâ¯ Locating application
âœ” Locating application
â¯ Loading configuration
âœ” Loading configuration
â¯ Preparing native dependencies
âœ” Preparing native dependencies
â¯ Running generateAssets hook
âœ” Running generateAssets hook
â¯ Running preStart hook
â¯ [plugin-vite] Preparing vite bundles
â¯ Launching dev servers for renderer process code
WebSocket server error: Port 3001 is already in use
13:42:05 [vite] (client) Pre-transform error: Transform failed with 1 error:
/Users/hirose/dev/mascot/src/renderer/components/common/FormField.test.tsx:33:40: ERROR: Syntax error "n"
  Plugin: vite:esbuild
  File: /Users/hirose/dev/mascot/src/renderer/components/common/FormField.test.tsx:33:40
  
  Syntax error "n"
  31 |  ];
  32 |  
  33 |  describe('FormField Component', () => {\n  describe('åŸºæœ¬çš„ãªãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°', () => {\n    it('ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®propsã§æ­£å¸¸ã«ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã‚‹', () => {\n      render(\n        <FormField \n          type=\"input\" \n          label=\"ãƒ†ã‚¹ãƒˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰\"\n          data-testid=\"default-field\" \n        />\n      );\n      \n      expect(screen.getByTestId('default-field')).toBeInTheDocument();\n      expect(screen.getByText('ãƒ†ã‚¹ãƒˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰')).toBeInTheDocument();\n      expect(screen.getByTestId('default-field-field')).toBeInTheDocument();\n    });\n\n    it('ã‚«ã‚¹ã‚¿ãƒ childrenãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹', () => {\n      render(\n        <FormField \n          label=\"ã‚«ã‚¹ã‚¿ãƒ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰\"\n          data-testid=\"custom-field\"\n        >\n          <div data-testid=\"custom-content\">ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒ³ãƒ†ãƒ³ãƒ„</div>\n        </FormField>\n      );\n      \n      expect(screen.getByTestId('custom-content')).toBeInTheDocument();\n      expect(screen.getByText('ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒ³ãƒ†ãƒ³ãƒ„')).toBeInTheDocument();\n    });\n  });\n\n  describe('ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚¿ã‚¤ãƒ—', () => {\n    it('type=\"input\"ã§å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã‚‹', () => {\n      render(\n        <FormField \n          type=\"input\"\n          label=\"å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰\"\n          inputProps={{ placeholder: 'ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›' }}\n          data-testid=\"input-field\"\n        />\n      );\n      \n      const input = screen.getByTestId('input-field-field');\n      expect(input).toBeInTheDocument();\n      expect(input).toHaveAttribute('type', 'text');\n      expect(input).toHaveAttribute('placeholder', 'ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›');\n    });\n\n    it('type=\"select\"ã§é¸æŠãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã‚‹', () => {\n      render(\n        <FormField \n          type=\"select\"\n          label=\"é¸æŠãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰\"\n          selectProps={{ options: testSelectOptions, placeholder: 'é¸æŠã—ã¦ãã ã•ã„' }}\n          data-testid=\"select-field\"\n        />\n      );\n      \n      const select = screen.getByTestId('select-field-field');\n      expect(select).toBeInTheDocument();\n      expect(select).toHaveAttribute('role', 'combobox');\n      expect(screen.getByText('é¸æŠã—ã¦ãã ã•ã„')).toBeInTheDocument();\n    });\n\n    it('type=\"textarea\"ã§ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ãŒãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã‚‹', () => {\n      render(\n        <FormField \n          type=\"textarea\"\n          label=\"ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢\"\n          textareaProps={{ placeholder: 'è©³ç´°ã‚’å…¥åŠ›', rows: 4 }}\n          data-testid=\"textarea-field\"\n        />\n      );\n      \n      const textarea = screen.getByTestId('textarea-field-field');\n      expect(textarea).toBeInTheDocument();\n      expect(textarea.tagName).toBe('TEXTAREA');\n      expect(textarea).toHaveAttribute('placeholder', 'è©³ç´°ã‚’å…¥åŠ›');\n      expect(textarea).toHaveAttribute('rows', '4');\n    });\n\n    it('type=\"checkbox\"ã§ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ãŒãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã‚‹', () => {\n      render(\n        <FormField \n          type=\"checkbox\"\n          label=\"ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹\"\n          checkboxProps={{ value: 'check1' }}\n          data-testid=\"checkbox-field\"\n        />\n      );\n      \n      const checkbox = screen.getByTestId('checkbox-field-field');\n      expect(checkbox).toBeInTheDocument();\n      expect(checkbox).toHaveAttribute('type', 'checkbox');\n      expect(checkbox).toHaveAttribute('value', 'check1');\n      \n      // ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã®å ´åˆã€ãƒ©ãƒ™ãƒ«ã¯æ¨ªã«è¡¨ç¤ºã•ã‚Œã‚‹\n      const label = screen.getByText('ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹');\n      expect(label).toBeInTheDocument();\n    });\n\n    it('type=\"radio\"ã§ãƒ©ã‚¸ã‚ªãƒœã‚¿ãƒ³ãŒãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã‚‹', () => {\n      render(\n        <FormField \n          type=\"radio\"\n          label=\"ãƒ©ã‚¸ã‚ªãƒœã‚¿ãƒ³\"\n          options={testRadioOptions}\n          radioProps={{ name: 'test-radio' }}\n          data-testid=\"radio-field\"\n        />\n      );\n      \n      // å„ãƒ©ã‚¸ã‚ªã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚‹\n      testRadioOptions.forEach(option => {\n        expect(screen.getByText(option.label)).toBeInTheDocument();\n      });\n      \n      // ç„¡åŠ¹ãªã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒæ­£ã—ãç„¡åŠ¹åŒ–ã•ã‚Œã‚‹\n      const radioInputs = screen.getAllByRole('radio');\n      expect(radioInputs).toHaveLength(3);\n      expect(radioInputs[2]).toBeDisabled(); // 3ç•ªç›®ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ç„¡åŠ¹\n    });\n\n    it('type=\"button\"ã§ãƒœã‚¿ãƒ³ãŒãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã‚‹', () => {\n      const handleClick = vi.fn();\n      \n      render(\n        <FormField \n          type=\"button\"\n          label=\"é€ä¿¡\"\n          buttonProps={{ variant: 'primary', onClick: handleClick }}\n          data-testid=\"button-field\"\n        />\n      );\n      \n      const button = screen.getByRole('button', { name: 'é€ä¿¡' });\n      expect(button).toBeInTheDocument();\n      expect(button).toHaveTextContent('é€ä¿¡');\n    });\n  });\n\n  describe('ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ', () => {\n    const layouts: FormFieldLayout[] = ['vertical', 'horizontal', 'inline'];\n\n    layouts.forEach(layout => {\n      it(`layout=\"${layout}\" ãŒæ­£ã—ãé©ç”¨ã•ã‚Œã‚‹`, () => {\n        render(\n          <FormField \n            type=\"input\"\n            label=\"ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ†ã‚¹ãƒˆ\"\n            layout={layout}\n            data-testid={`${layout}-field`}\n          />\n        );\n        \n        const field = screen.getByTestId(`${layout}-field`);\n        expect(field).toBeInTheDocument();\n        \n        if (layout === 'vertical') {\n          expect(field.className).toContain('flex-col');\n        } else if (layout === 'horizontal') {\n          expect(field.className).toContain('flex');\n          expect(field.className).toContain('items-start');\n        } else if (layout === 'inline') {\n          expect(field.className).toContain('flex');\n          expect(field.className).toContain('items-center');\n        }\n      });\n    });\n\n    it('horizontalãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã§labelWidthãŒé©ç”¨ã•ã‚Œã‚‹', () => {\n      render(\n        <FormField \n          type=\"input\"\n          label=\"ãƒ©ãƒ™ãƒ«å¹…ãƒ†ã‚¹ãƒˆ\"\n          layout=\"horizontal\"\n          labelWidth=\"200px\"\n          data-testid=\"label-width-field\"\n        />\n      );\n      \n      const label = screen.getByText('ãƒ©ãƒ™ãƒ«å¹…ãƒ†ã‚¹ãƒˆ');\n      expect(label).toHaveStyle({ width: '200px' });\n    });\n  });\n\n  describe('ã‚µã‚¤ã‚º', () => {\n    const sizes: FormFieldSize[] = ['sm', 'md', 'lg'];\n\n    sizes.forEach(size => {\n      it(`size=\"${size}\" ãŒæ­£ã—ãé©ç”¨ã•ã‚Œã‚‹`, () => {\n        render(\n          <FormField \n            type=\"input\"\n            label=\"ã‚µã‚¤ã‚ºãƒ†ã‚¹ãƒˆ\"\n            size={size}\n            data-testid={`${size}-size-field`}\n          />\n        );\n        \n        const input = screen.getByTestId(`${size}-size-field-field`);\n        expect(input).toBeInTheDocument();\n        \n        if (size === 'sm') {\n          expect(input.className).toContain('text-xs');\n        } else if (size === 'lg') {\n          expect(input.className).toContain('text-base');\n        }\n      });\n    });\n  });\n\n  describe('å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰', () => {\n    it('required=trueã§å¿…é ˆãƒãƒ¼ã‚¯ãŒè¡¨ç¤ºã•ã‚Œã‚‹', () => {\n      render(\n        <FormField \n          type=\"input\"\n          label=\"å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰\"\n          required\n          data-testid=\"required-field\"\n        />\n      );\n      \n      const requiredMark = screen.getByLabelText('å¿…é ˆ');\n      expect(requiredMark).toBeInTheDocument();\n      expect(requiredMark).toHaveTextContent('*');\n    });\n\n    it('ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã§å¿…é ˆãƒãƒ¼ã‚¯ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹', () => {\n      render(\n        <FormField \n          type=\"checkbox\"\n          label=\"å¿…é ˆãƒã‚§ãƒƒã‚¯\"\n          required\n          data-testid=\"required-checkbox\"\n        />\n      );\n      \n      const requiredMark = screen.getByLabelText('å¿…é ˆ');\n      expect(requiredMark).toBeInTheDocument();\n    });\n  });\n\n  describe('ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸', () => {\n    it('ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹', () => {\n      const errorMessage = 'ã“ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯å¿…é ˆã§ã™';\n      \n      render(\n        <FormField \n          type=\"input\"\n          label=\"ã‚¨ãƒ©ãƒ¼ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰\"\n          error={errorMessage}\n          data-testid=\"error-field\"\n        />\n      );\n      \n      const errorElement = screen.getByTestId('error-field-error');\n      expect(errorElement).toBeInTheDocument();\n      expect(errorElement).toHaveTextContent(errorMessage);\n      expect(errorElement).toHaveAttribute('role', 'alert');\n    });\n\n    it('ã‚¨ãƒ©ãƒ¼ãŒã‚ã‚‹å ´åˆã¯ãƒ˜ãƒ«ãƒ—ãƒ†ã‚­ã‚¹ãƒˆã¯è¡¨ç¤ºã•ã‚Œãªã„', () => {\n      render(\n        <FormField \n          type=\"input\"\n          label=\"ã‚¨ãƒ©ãƒ¼ãƒ˜ãƒ«ãƒ—ãƒ†ã‚¹ãƒˆ\"\n          error=\"ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸\"\n          helpText=\"ãƒ˜ãƒ«ãƒ—ãƒ†ã‚­ã‚¹ãƒˆ\"\n          data-testid=\"error-help-field\"\n        />\n      );\n      \n      expect(screen.getByText('ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸')).toBeInTheDocument();\n      expect(screen.queryByText('ãƒ˜ãƒ«ãƒ—ãƒ†ã‚­ã‚¹ãƒˆ')).not.toBeInTheDocument();\n    });\n  });\n\n  describe('ãƒ˜ãƒ«ãƒ—ãƒ†ã‚­ã‚¹ãƒˆ', () => {\n    it('ãƒ˜ãƒ«ãƒ—ãƒ†ã‚­ã‚¹ãƒˆãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹', () => {\n      const helpText = 'åŠè§’è‹±æ•°å­—ã§å…¥åŠ›ã—ã¦ãã ã•ã„';\n      \n      render(\n        <FormField \n          type=\"input\"\n          label=\"ãƒ˜ãƒ«ãƒ—ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰\"\n          helpText={helpText}\n          data-testid=\"help-field\"\n        />\n      );\n      \n      const helpElement = screen.getByTestId('help-field-help');\n      expect(helpElement).toBeInTheDocument();\n      expect(helpElement).toHaveTextContent(helpText);\n    });\n  });\n\n  describe('disabledçŠ¶æ…‹', () => {\n    it('disabled=trueã§ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒç„¡åŠ¹åŒ–ã•ã‚Œã‚‹', () => {\n      render(\n        <FormField \n          type=\"input\"\n          label=\"ç„¡åŠ¹ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰\"\n          disabled\n          data-testid=\"disabled-field\"\n        />\n      );\n      \n      const input = screen.getByTestId('disabled-field-field');\n      expect(input).toBeDisabled();\n    });\n\n    it('ãƒ©ã‚¸ã‚ªãƒœã‚¿ãƒ³ã§å€‹åˆ¥ã¨ã‚°ãƒ­ãƒ¼ãƒãƒ«ã®ç„¡åŠ¹åŒ–ãŒæ­£ã—ãå‹•ä½œã™ã‚‹', () => {\n      render(\n        <FormField \n          type=\"radio\"\n          label=\"ç„¡åŠ¹ãƒ©ã‚¸ã‚ª\"\n          options={testRadioOptions}\n          disabled\n          data-testid=\"disabled-radio\"\n        />\n      );\n      \n      const radioInputs = screen.getAllByRole('radio');\n      radioInputs.forEach(radio => {\n        expect(radio).toBeDisabled();\n      });\n    });\n  });\n\n  describe('fullWidth', () => {\n    it('fullWidth=falseã§å¹…ãŒåˆ¶é™ã•ã‚Œã‚‹', () => {\n      render(\n        <FormField \n          type=\"input\"\n          label=\"å¹…åˆ¶é™ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰\"\n          fullWidth={false}\n          data-testid=\"limited-width-field\"\n        />\n      );\n      \n      const field = screen.getByTestId('limited-width-field');\n      expect(field.className).toContain('w-auto');\n    });\n  });\n\n  describe('ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°', () => {\n    it('å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã§ã‚¤ãƒ™ãƒ³ãƒˆãŒæ­£ã—ãå‹•ä½œã™ã‚‹', async () => {\n      const handleChange = vi.fn();\n      const user = userEvent.setup();\n      \n      render(\n        <FormField \n          type=\"input\"\n          label=\"ã‚¤ãƒ™ãƒ³ãƒˆãƒ†ã‚¹ãƒˆ\"\n          inputProps={{ onChange: handleChange }}\n          data-testid=\"event-field\"\n        />\n      );\n      \n      const input = screen.getByTestId('event-field-field');\n      await user.type(input, 'ãƒ†ã‚¹ãƒˆ');\n      \n      expect(handleChange).toHaveBeenCalled();\n    });\n\n    it('ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã§ã‚¤ãƒ™ãƒ³ãƒˆãŒæ­£ã—ãå‹•ä½œã™ã‚‹', async () => {\n      const handleChange = vi.fn();\n      const user = userEvent.setup();\n      \n      render(\n        <FormField \n          type=\"checkbox\"\n          label=\"ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆ\"\n          checkboxProps={{ onChange: handleChange }}\n          data-testid=\"checkbox-event\"\n        />\n      );\n      \n      const checkbox = screen.getByTestId('checkbox-event-field');\n      await user.click(checkbox);\n      \n      expect(handleChange).toHaveBeenCalled();\n    });\n\n    it('ãƒœã‚¿ãƒ³ã§ã‚¤ãƒ™ãƒ³ãƒˆãŒæ­£ã—ãå‹•ä½œã™ã‚‹', async () => {\n      const handleClick = vi.fn();\n      const user = userEvent.setup();\n      \n      render(\n        <FormField \n          type=\"button\"\n          label=\"ã‚¯ãƒªãƒƒã‚¯\"\n          buttonProps={{ onClick: handleClick }}\n          data-testid=\"button-event\"\n        />\n      );\n      \n      const button = screen.getByRole('button', { name: 'ã‚¯ãƒªãƒƒã‚¯' });\n      await user.click(button);\n      \n      expect(handleClick).toHaveBeenCalled();\n    });\n  });\n\n  describe('ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£', () => {\n    it('ãƒ©ãƒ™ãƒ«ã¨ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒæ­£ã—ãé–¢é€£ä»˜ã‘ã‚‰ã‚Œã‚‹', () => {\n      render(\n        <FormField \n          type=\"input\"\n          label=\"ã‚¢ã‚¯ã‚»ã‚·ãƒ–ãƒ«ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰\"\n          data-testid=\"accessible-field\"\n        />\n      );\n      \n      const input = screen.getByTestId('accessible-field-field');\n      const label = screen.getByText('ã‚¢ã‚¯ã‚»ã‚·ãƒ–ãƒ«ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰');\n      \n      expect(label).toHaveAttribute('for', input.id);\n    });\n\n    it('ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹ã§ariaå±æ€§ãŒæ­£ã—ãè¨­å®šã•ã‚Œã‚‹', () => {\n      render(\n        <FormField \n          type=\"input\"\n          label=\"ã‚¨ãƒ©ãƒ¼ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£\"\n          error=\"ã‚¨ãƒ©ãƒ¼ã§ã™\"\n          data-testid=\"error-a11y-field\"\n        />\n      );\n      \n      const input = screen.getByTestId('error-a11y-field-field');\n      expect(input).toHaveAttribute('aria-invalid', 'true');\n    });\n  });\n\n  describe('ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º', () => {\n    it('ã‚«ã‚¹ã‚¿ãƒ ã‚¯ãƒ©ã‚¹ãŒæ­£ã—ãé©ç”¨ã•ã‚Œã‚‹', () => {\n      render(\n        <FormField \n          type=\"input\"\n          label=\"ã‚«ã‚¹ã‚¿ãƒ ã‚¯ãƒ©ã‚¹\"\n          className=\"custom-field\"\n          labelClassName=\"custom-label\"\n          fieldClassName=\"custom-field-container\"\n          errorClassName=\"custom-error\"\n          helpClassName=\"custom-help\"\n          error=\"ã‚¨ãƒ©ãƒ¼\"\n          helpText=\"ãƒ˜ãƒ«ãƒ—\"\n          data-testid=\"custom-classes\"\n        />\n      );\n      \n      const field = screen.getByTestId('custom-classes');\n      expect(field.className).toContain('custom-field');\n      \n      const label = screen.getByText('ã‚«ã‚¹ã‚¿ãƒ ã‚¯ãƒ©ã‚¹');\n      expect(label.className).toContain('custom-label');\n    });\n  });\n\n  describe('å‹å®‰å…¨æ€§', () => {\n    it('FormFieldPropsã®å‹ãŒæ­£ã—ãé©ç”¨ã•ã‚Œã‚‹', () => {\n      // å‹ãƒã‚§ãƒƒã‚¯ã®ã¿ï¼ˆå®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼ãŒãªã„ã“ã¨ã‚’ç¢ºèªï¼‰\n      const formFieldProps: FormFieldProps = {\n        type: 'input',\n        label: 'ã‚¿ã‚¤ãƒ—ã‚»ãƒ¼ãƒ•ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰',\n        layout: 'horizontal',\n        size: 'lg',\n        required: true,\n        fullWidth: false,\n        inputProps: {\n          type: 'email',\n          placeholder: 'example@domain.com'\n        },\n        'data-testid': 'type-safe-field'\n      };\n      \n      render(<FormField {...formFieldProps} />);\n      \n      expect(screen.getByTestId('type-safe-field')).toBeInTheDocument();\n    });\n  });\n});"
     |                                          ^
  
13:42:05 [vite] (client) Pre-transform error: Transform failed with 1 error:
/Users/hirose/dev/mascot/src/renderer/components/common/Select.test.tsx:6:4: ERROR: Syntax error "n"
  Plugin: vite:esbuild
  File: /Users/hirose/dev/mascot/src/renderer/components/common/Select.test.tsx:6:4
  
  Syntax error "n"
  4  |   * Phase 3.5.2.1 Task 3: Selectã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ†ã‚¹ãƒˆ
  5  |   * TypeScriptå³å¯†å‹å®šç¾©ã€ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã€ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³æ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆ
  6  |   */\n\nimport React from 'react';\nimport { describe, it, expect, vi } from 'vitest';\nimport { render, screen, fireEvent, waitFor } from '@testing-library/react';\nimport userEvent from '@testing-library/user-event';\n\n// ãƒ†ã‚¹ãƒˆå¯¾è±¡\nimport Select, { type SelectProps, type SelectOption, type SelectSize, type SelectVariant } from './Select';\n\n// ãƒ†ã‚¹ãƒˆç”¨ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãƒ‡ãƒ¼ã‚¿\nconst testOptions: SelectOption[] = [\n  { value: 'option1', label: 'ã‚ªãƒ—ã‚·ãƒ§ãƒ³1' },\n  { value: 'option2', label: 'ã‚ªãƒ—ã‚·ãƒ§ãƒ³2', description: 'èª¬æ˜2' },\n  { value: 'option3', label: 'ã‚ªãƒ—ã‚·ãƒ§ãƒ³3', disabled: true },\n  { value: 'option4', label: 'ã‚ªãƒ—ã‚·ãƒ§ãƒ³4', description: 'èª¬æ˜4' },\n];\n\n// ãƒ†ã‚¹ãƒˆç”¨ã®ã‚¢ã‚¤ã‚³ãƒ³ä»˜ãã‚ªãƒ—ã‚·ãƒ§ãƒ³\nconst TestIcon: React.FC = () => (\n  <svg data-testid=\"test-icon\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\">\n    <circle cx=\"8\" cy=\"8\" r=\"4\" />\n  </svg>\n);\n\nconst testOptionsWithIcons: SelectOption[] = [\n  { value: 'icon1', label: 'ã‚¢ã‚¤ã‚³ãƒ³1', icon: <TestIcon /> },\n  { value: 'icon2', label: 'ã‚¢ã‚¤ã‚³ãƒ³2', icon: <TestIcon /> },\n];\n\ndescribe('Select Component', () => {\n  describe('åŸºæœ¬çš„ãªãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°', () => {\n    it('ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®propsã§æ­£å¸¸ã«ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã‚‹', () => {\n      render(<Select options={testOptions} data-testid=\"default-select\" />);\n      \n      const select = screen.getByTestId('default-select');\n      expect(select).toBeInTheDocument();\n      expect(select).toHaveAttribute('role', 'combobox');\n      expect(select).toHaveAttribute('aria-expanded', 'false');\n    });\n\n    it('ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹', () => {\n      const placeholder = 'ã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼';\n      render(<Select options={testOptions} placeholder={placeholder} data-testid=\"placeholder-select\" />);\n      \n      expect(screen.getByText(placeholder)).toBeInTheDocument();\n    });\n\n    it('ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ãŒæ­£ã—ãè¨­å®šã•ã‚Œã‚‹', () => {\n      render(\n        <Select \n          options={testOptions} \n          defaultValue=\"option2\" \n          data-testid=\"default-value-select\" \n        />\n      );\n      \n      expect(screen.getByText('ã‚ªãƒ—ã‚·ãƒ§ãƒ³2')).toBeInTheDocument();\n    });\n  });\n\n  describe('ã‚µã‚¤ã‚ºï¼ˆsizeï¼‰', () => {\n    const sizes: SelectSize[] = ['sm', 'md', 'lg'];\n\n    sizes.forEach(size => {\n      it(`size=\"${size}\" ãŒæ­£ã—ãé©ç”¨ã•ã‚Œã‚‹`, () => {\n        render(<Select options={testOptions} size={size} data-testid={`${size}-select`} />);\n        \n        const select = screen.getByTestId(`${size}-select`);\n        expect(select).toBeInTheDocument();\n        \n        if (size === 'sm') {\n          expect(select.className).toContain('text-xs');\n        } else if (size === 'lg') {\n          expect(select.className).toContain('text-base');\n        }\n      });\n    });\n  });\n\n  describe('ãƒãƒªã‚¢ãƒ³ãƒˆï¼ˆvariantï¼‰', () => {\n    const variants: SelectVariant[] = ['default', 'error', 'success'];\n\n    variants.forEach(variant => {\n      it(`variant=\"${variant}\" ãŒæ­£ã—ãé©ç”¨ã•ã‚Œã‚‹`, () => {\n        render(<Select options={testOptions} variant={variant} data-testid={`${variant}-select`} />);\n        \n        const select = screen.getByTestId(`${variant}-select`);\n        expect(select).toBeInTheDocument();\n        \n        if (variant === 'error') {\n          expect(select.className).toContain('border-red-500');\n          expect(select).toHaveAttribute('aria-invalid', 'true');\n        } else if (variant === 'success') {\n          expect(select.className).toContain('border-green-500');\n        }\n      });\n    });\n  });\n\n  describe('ãƒ©ãƒ™ãƒ«', () => {\n    it('ãƒ©ãƒ™ãƒ«ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹', () => {\n      const label = 'ã‚»ãƒ¬ã‚¯ãƒˆãƒ©ãƒ™ãƒ«';\n      render(<Select options={testOptions} label={label} data-testid=\"labeled-select\" />);\n      \n      const labelElement = screen.getByText(label);\n      const select = screen.getByTestId('labeled-select');\n      \n      expect(labelElement).toBeInTheDocument();\n      expect(labelElement).toHaveAttribute('for', select.id);\n    });\n\n    it('required=trueã§å¿…é ˆãƒãƒ¼ã‚¯ãŒè¡¨ç¤ºã•ã‚Œã‚‹', () => {\n      render(<Select options={testOptions} label=\"å¿…é ˆã‚»ãƒ¬ã‚¯ãƒˆ\" required data-testid=\"required-select\" />);\n      \n      const requiredMark = screen.getByLabelText('å¿…é ˆ');\n      expect(requiredMark).toBeInTheDocument();\n      expect(requiredMark).toHaveTextContent('*');\n    });\n  });\n\n  describe('ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸', () => {\n    it('ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹', () => {\n      const errorMessage = 'é¸æŠãŒå¿…è¦ã§ã™';\n      render(<Select options={testOptions} error={errorMessage} data-testid=\"error-select\" />);\n      \n      const select = screen.getByTestId('error-select');\n      const errorElement = screen.getByTestId('error-select-error');\n      \n      expect(errorElement).toBeInTheDocument();\n      expect(errorElement).toHaveTextContent(errorMessage);\n      expect(errorElement).toHaveAttribute('role', 'alert');\n      expect(select).toHaveAttribute('aria-invalid', 'true');\n    });\n\n    it('ã‚¨ãƒ©ãƒ¼ãŒã‚ã‚‹å ´åˆã¯variantãŒerrorã«å¤‰æ›´ã•ã‚Œã‚‹', () => {\n      render(<Select options={testOptions} variant=\"success\" error=\"ã‚¨ãƒ©ãƒ¼ã§ã™\" data-testid=\"error-override\" />);\n      \n      const select = screen.getByTestId('error-override');\n      expect(select.className).toContain('border-red-500');\n    });\n  });\n\n  describe('ãƒ˜ãƒ«ãƒ—ãƒ†ã‚­ã‚¹ãƒˆ', () => {\n    it('ãƒ˜ãƒ«ãƒ—ãƒ†ã‚­ã‚¹ãƒˆãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹', () => {\n      const helpText = 'é¸æŠã—ã¦ãã ã•ã„';\n      render(<Select options={testOptions} helpText={helpText} data-testid=\"help-select\" />);\n      \n      const helpElement = screen.getByTestId('help-select-help');\n      expect(helpElement).toBeInTheDocument();\n      expect(helpElement).toHaveTextContent(helpText);\n    });\n\n    it('ã‚¨ãƒ©ãƒ¼ãŒã‚ã‚‹å ´åˆã¯ãƒ˜ãƒ«ãƒ—ãƒ†ã‚­ã‚¹ãƒˆã¯è¡¨ç¤ºã•ã‚Œãªã„', () => {\n      render(\n        <Select \n          options={testOptions}\n          helpText=\"ãƒ˜ãƒ«ãƒ—ãƒ†ã‚­ã‚¹ãƒˆ\" \n          error=\"ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸\" \n          data-testid=\"error-help-select\"\n        />\n      );\n      \n      expect(screen.queryByText('ãƒ˜ãƒ«ãƒ—ãƒ†ã‚­ã‚¹ãƒˆ')).not.toBeInTheDocument();\n      expect(screen.getByText('ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸')).toBeInTheDocument();\n    });\n  });\n\n  describe('ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³æ“ä½œ', () => {\n    it('ã‚¯ãƒªãƒƒã‚¯ã§ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãŒé–‹ã', async () => {\n      const user = userEvent.setup();\n      render(<Select options={testOptions} data-testid=\"dropdown-select\" />);\n      \n      const select = screen.getByTestId('dropdown-select');\n      expect(select).toHaveAttribute('aria-expanded', 'false');\n      \n      await user.click(select);\n      \n      expect(select).toHaveAttribute('aria-expanded', 'true');\n      expect(screen.getByRole('listbox')).toBeInTheDocument();\n    });\n\n    it('ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹', async () => {\n      const user = userEvent.setup();\n      render(<Select options={testOptions} data-testid=\"options-select\" />);\n      \n      await user.click(screen.getByTestId('options-select'));\n      \n      testOptions.forEach(option => {\n        expect(screen.getByText(option.label)).toBeInTheDocument();\n      });\n    });\n\n    it('ã‚ªãƒ—ã‚·ãƒ§ãƒ³é¸æŠãŒæ­£ã—ãå‹•ä½œã™ã‚‹', async () => {\n      const handleChange = vi.fn();\n      const user = userEvent.setup();\n      \n      render(<Select options={testOptions} onChange={handleChange} data-testid=\"select-option\" />);\n      \n      await user.click(screen.getByTestId('select-option'));\n      await user.click(screen.getByText('ã‚ªãƒ—ã‚·ãƒ§ãƒ³2'));\n      \n      expect(handleChange).toHaveBeenCalledWith('option2', testOptions[1]);\n      expect(screen.getByText('ã‚ªãƒ—ã‚·ãƒ§ãƒ³2')).toBeInTheDocument();\n    });\n\n    it('ç„¡åŠ¹ãªã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯é¸æŠã§ããªã„', async () => {\n      const handleChange = vi.fn();\n      const user = userEvent.setup();\n      \n      render(<Select options={testOptions} onChange={handleChange} data-testid=\"disabled-option\" />);\n      \n      await user.click(screen.getByTestId('disabled-option'));\n      await user.click(screen.getByText('ã‚ªãƒ—ã‚·ãƒ§ãƒ³3'));\n      \n      expect(handleChange).not.toHaveBeenCalled();\n    });\n  });\n\n  describe('ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³', () => {\n    it('Enterã‚­ãƒ¼ã§ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãŒé–‹ã', () => {\n      render(<Select options={testOptions} data-testid=\"keyboard-select\" />);\n      \n      const select = screen.getByTestId('keyboard-select');\n      fireEvent.keyDown(select, { key: 'Enter' });\n      \n      expect(select).toHaveAttribute('aria-expanded', 'true');\n    });\n\n    it('Spaceã‚­ãƒ¼ã§ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãŒé–‹ã', () => {\n      render(<Select options={testOptions} data-testid=\"space-select\" />);\n      \n      const select = screen.getByTestId('space-select');\n      fireEvent.keyDown(select, { key: ' ' });\n      \n      expect(select).toHaveAttribute('aria-expanded', 'true');\n    });\n\n    it('Escapeã‚­ãƒ¼ã§ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãŒé–‰ã˜ã‚‹', async () => {\n      const user = userEvent.setup();\n      render(<Select options={testOptions} data-testid=\"escape-select\" />);\n      \n      const select = screen.getByTestId('escape-select');\n      await user.click(select);\n      expect(select).toHaveAttribute('aria-expanded', 'true');\n      \n      fireEvent.keyDown(select, { key: 'Escape' });\n      expect(select).toHaveAttribute('aria-expanded', 'false');\n    });\n\n    it('ArrowDownã‚­ãƒ¼ã§ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãŒé–‹ã', () => {\n      render(<Select options={testOptions} data-testid=\"arrow-select\" />);\n      \n      const select = screen.getByTestId('arrow-select');\n      fireEvent.keyDown(select, { key: 'ArrowDown' });\n      \n      expect(select).toHaveAttribute('aria-expanded', 'true');\n    });\n  });\n\n  describe('æ¤œç´¢æ©Ÿèƒ½', () => {\n    it('searchable=trueã§æ¤œç´¢å…¥åŠ›ãŒè¡¨ç¤ºã•ã‚Œã‚‹', async () => {\n      const user = userEvent.setup();\n      render(<Select options={testOptions} searchable data-testid=\"searchable-select\" />);\n      \n      await user.click(screen.getByTestId('searchable-select'));\n      \n      const searchInput = screen.getByTestId('searchable-select-search');\n      expect(searchInput).toBeInTheDocument();\n    });\n\n    it('æ¤œç´¢ã«ã‚ˆã‚Šã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã•ã‚Œã‚‹', async () => {\n      const user = userEvent.setup();\n      render(<Select options={testOptions} searchable data-testid=\"filter-select\" />);\n      \n      await user.click(screen.getByTestId('filter-select'));\n      \n      const searchInput = screen.getByTestId('filter-select-search');\n      await user.type(searchInput, 'ã‚ªãƒ—ã‚·ãƒ§ãƒ³2');\n      \n      expect(screen.getByText('ã‚ªãƒ—ã‚·ãƒ§ãƒ³2')).toBeInTheDocument();\n      expect(screen.queryByText('ã‚ªãƒ—ã‚·ãƒ§ãƒ³1')).not.toBeInTheDocument();\n    });\n\n    it('æ¤œç´¢çµæœãŒãªã„å ´åˆã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹', async () => {\n      const user = userEvent.setup();\n      render(<Select options={testOptions} searchable data-testid=\"no-results-select\" />);\n      \n      await user.click(screen.getByTestId('no-results-select'));\n      \n      const searchInput = screen.getByTestId('no-results-select-search');\n      await user.type(searchInput, 'å­˜åœ¨ã—ãªã„ã‚ªãƒ—ã‚·ãƒ§ãƒ³');\n      \n      expect(screen.getByText('è©²å½“ã™ã‚‹é …ç›®ãŒã‚ã‚Šã¾ã›ã‚“')).toBeInTheDocument();\n    });\n  });\n\n  describe('è¤‡æ•°é¸æŠ', () => {\n    it('multiple=trueã§è¤‡æ•°é¸æŠãŒå¯èƒ½', async () => {\n      const handleMultipleChange = vi.fn();\n      const user = userEvent.setup();\n      \n      render(\n        <Select \n          options={testOptions} \n          multiple \n          onMultipleChange={handleMultipleChange}\n          data-testid=\"multiple-select\" \n        />\n      );\n      \n      await user.click(screen.getByTestId('multiple-select'));\n      await user.click(screen.getByText('ã‚ªãƒ—ã‚·ãƒ§ãƒ³1'));\n      \n      expect(handleMultipleChange).toHaveBeenCalledWith(['option1'], expect.any(Array));\n    });\n\n    it('è¤‡æ•°é¸æŠæ™‚ã®è¡¨ç¤ºãŒæ­£ã—ãå‹•ä½œã™ã‚‹', async () => {\n      const user = userEvent.setup();\n      \n      render(\n        <Select \n          options={testOptions} \n          multiple \n          multipleValue={['option1', 'option2']}\n          data-testid=\"multiple-display\" \n        />\n      );\n      \n      expect(screen.getByText('2ä»¶é¸æŠä¸­')).toBeInTheDocument();\n    });\n  });\n\n  describe('ã‚¢ã‚¤ã‚³ãƒ³è¡¨ç¤º', () => {\n    it('ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®ã‚¢ã‚¤ã‚³ãƒ³ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹', async () => {\n      const user = userEvent.setup();\n      \n      render(<Select options={testOptionsWithIcons} data-testid=\"icon-select\" />);\n      \n      await user.click(screen.getByTestId('icon-select'));\n      \n      const icons = screen.getAllByTestId('test-icon');\n      expect(icons).toHaveLength(2);\n    });\n  });\n\n  describe('disabledçŠ¶æ…‹', () => {\n    it('disabled=trueã§ã‚»ãƒ¬ã‚¯ãƒˆãŒç„¡åŠ¹åŒ–ã•ã‚Œã‚‹', () => {\n      render(<Select options={testOptions} disabled data-testid=\"disabled-select\" />);\n      \n      const select = screen.getByTestId('disabled-select');\n      expect(select).toHaveAttribute('tabIndex', '-1');\n    });\n\n    it('disabledçŠ¶æ…‹ã§ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆãŒç™ºç«ã—ãªã„', async () => {\n      const user = userEvent.setup();\n      render(<Select options={testOptions} disabled data-testid=\"disabled-click\" />);\n      \n      const select = screen.getByTestId('disabled-click');\n      await user.click(select);\n      \n      expect(select).toHaveAttribute('aria-expanded', 'false');\n    });\n  });\n\n  describe('ã‚«ã‚¹ã‚¿ãƒ ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°', () => {\n    it('renderOptionãŒæ­£ã—ãå‹•ä½œã™ã‚‹', async () => {\n      const renderOption = (option: SelectOption, isSelected: boolean) => (\n        <div data-testid={`custom-option-${option.value}`}>\n          ã‚«ã‚¹ã‚¿ãƒ : {option.label} {isSelected && 'âœ“'}\n        </div>\n      );\n      \n      const user = userEvent.setup();\n      \n      render(\n        <Select \n          options={testOptions} \n          renderOption={renderOption}\n          data-testid=\"custom-render\" \n        />\n      );\n      \n      await user.click(screen.getByTestId('custom-render'));\n      \n      expect(screen.getByTestId('custom-option-option1')).toBeInTheDocument();\n      expect(screen.getByText('ã‚«ã‚¹ã‚¿ãƒ : ã‚ªãƒ—ã‚·ãƒ§ãƒ³1')).toBeInTheDocument();\n    });\n\n    it('renderSelectedValueãŒæ­£ã—ãå‹•ä½œã™ã‚‹', () => {\n      const renderSelectedValue = (option: SelectOption | null) => (\n        option ? `é¸æŠä¸­: ${option.label}` : 'æœªé¸æŠ'\n      );\n      \n      render(\n        <Select \n          options={testOptions}\n          value=\"option1\"\n          renderSelectedValue={renderSelectedValue}\n          data-testid=\"custom-value\" \n        />\n      );\n      \n      expect(screen.getByText('é¸æŠä¸­: ã‚ªãƒ—ã‚·ãƒ§ãƒ³1')).toBeInTheDocument();\n    });\n  });\n\n  describe('fullWidth', () => {\n    it('fullWidth=falseã§å¹…ãŒåˆ¶é™ã•ã‚Œã‚‹', () => {\n      render(<Select options={testOptions} fullWidth={false} data-testid=\"limited-width\" />);\n      \n      const container = screen.getByTestId('limited-width').parentElement;\n      expect(container?.className).toContain('w-auto');\n    });\n  });\n\n  describe('ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£', () => {\n    it('combobox roleãŒæ­£ã—ãè¨­å®šã•ã‚Œã‚‹', () => {\n      render(<Select options={testOptions} data-testid=\"a11y-select\" />);\n      \n      const select = screen.getByTestId('a11y-select');\n      expect(select).toHaveAttribute('role', 'combobox');\n    });\n\n    it('aria-expandedå±æ€§ãŒæ­£ã—ãè¨­å®šã•ã‚Œã‚‹', async () => {\n      const user = userEvent.setup();\n      render(<Select options={testOptions} data-testid=\"aria-expanded\" />);\n      \n      const select = screen.getByTestId('aria-expanded');\n      expect(select).toHaveAttribute('aria-expanded', 'false');\n      \n      await user.click(select);\n      expect(select).toHaveAttribute('aria-expanded', 'true');\n    });\n\n    it('aria-requiredå±æ€§ãŒæ­£ã—ãè¨­å®šã•ã‚Œã‚‹', () => {\n      render(<Select options={testOptions} required data-testid=\"aria-required\" />);\n      \n      const select = screen.getByTestId('aria-required');\n      expect(select).toHaveAttribute('aria-required', 'true');\n    });\n  });\n\n  describe('å‹å®‰å…¨æ€§', () => {\n    it('SelectPropsã®å‹ãŒæ­£ã—ãé©ç”¨ã•ã‚Œã‚‹', () => {\n      // å‹ãƒã‚§ãƒƒã‚¯ã®ã¿ï¼ˆå®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼ãŒãªã„ã“ã¨ã‚’ç¢ºèªï¼‰\n      const selectProps: SelectProps = {\n        options: testOptions,\n        size: 'lg',\n        variant: 'success',\n        label: 'ãƒ†ã‚¹ãƒˆã‚»ãƒ¬ã‚¯ãƒˆ',\n        placeholder: 'ã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼',\n        searchable: true,\n        multiple: false,\n        required: true,\n        'data-testid': 'type-safe-select'\n      };\n      \n      render(<Select {...selectProps} />);\n      \n      expect(screen.getByTestId('type-safe-select')).toBeInTheDocument();\n    });\n  });\n});"
     |      ^
  
âœ” Launching dev servers for renderer process code
â¯ Compiling main process code
13:42:05 [vite] (client) Pre-transform error: Failed to resolve import "./FormField" from "src/renderer/components/common/index.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/hirose/dev/mascot/src/renderer/components/common/index.ts:35:37
  3  |  export { default as Input } from "./Input";
  4  |  export { default as Select } from "./Select";
  5  |  export { default as FormField } from "./FormField";
     |                                        ^
  6  |  export { default as Card } from "./Card";
  7  |  export { default as LazyComponent, LazySettingsWindow, LazyChatApp, useComponentLoading } from "./LazyComponent";
13:42:05 [vite] (client) Pre-transform error: Failed to resolve import "./FormField" from "src/renderer/components/common/index.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/hirose/dev/mascot/src/renderer/components/common/index.ts:35:37
  3  |  export { default as Input } from "./Input";
  4  |  export { default as Select } from "./Select";
  5  |  export { default as FormField } from "./FormField";
     |                                        ^
  6  |  export { default as Card } from "./Card";
  7  |  export { default as LazyComponent, LazySettingsWindow, LazyChatApp, useComponentLoading } from "./LazyComponent";
13:42:05 [vite] (client) Pre-transform error: Failed to resolve import "./FormField" from "src/renderer/components/common/index.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/hirose/dev/mascot/src/renderer/components/common/index.ts:35:37
  3  |  export { default as Input } from "./Input";
  4  |  export { default as Select } from "./Select";
  5  |  export { default as FormField } from "./FormField";
     |                                        ^
  6  |  export { default as Card } from "./Card";
  7  |  export { default as LazyComponent, LazySettingsWindow, LazyChatApp, useComponentLoading } from "./LazyComponent";
13:42:05 [vite] (client) Pre-transform error: Failed to resolve import "./FormField" from "src/renderer/components/common/index.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/hirose/dev/mascot/src/renderer/components/common/index.ts:35:37
  3  |  export { default as Input } from "./Input";
  4  |  export { default as Select } from "./Select";
  5  |  export { default as FormField } from "./FormField";
     |                                        ^
  6  |  export { default as Card } from "./Card";
  7  |  export { default as LazyComponent, LazySettingsWindow, LazyChatApp, useComponentLoading } from "./LazyComponent";
13:42:05 [vite] (client) Pre-transform error: Failed to resolve import "./FormField" from "src/renderer/components/common/index.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/hirose/dev/mascot/src/renderer/components/common/index.ts:35:37
  3  |  export { default as Input } from "./Input";
  4  |  export { default as Select } from "./Select";
  5  |  export { default as FormField } from "./FormField";
     |                                        ^
  6  |  export { default as Card } from "./Card";
  7  |  export { default as LazyComponent, LazySettingsWindow, LazyChatApp, useComponentLoading } from "./LazyComponent";
vite v6.3.5 building for development...

watching for file changes...
vite v6.3.5 building for development...

watching for file changes...
13:42:05 [vite] (client) Pre-transform error: Transform failed with 1 error:
/Users/hirose/dev/mascot/src/renderer/components/common/FormField.test.tsx:33:40: ERROR: Syntax error "n"
  Plugin: vite:esbuild
  File: /Users/hirose/dev/mascot/src/renderer/components/common/FormField.test.tsx:33:40
  
  Syntax error "n"
  31 |  ];
  32 |  
  33 |  describe('FormField Component', () => {\n  describe('åŸºæœ¬çš„ãªãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°', () => {\n    it('ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®propsã§æ­£å¸¸ã«ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã‚‹', () => {\n      render(\n        <FormField \n          type=\"input\" \n          label=\"ãƒ†ã‚¹ãƒˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰\"\n          data-testid=\"default-field\" \n        />\n      );\n      \n      expect(screen.getByTestId('default-field')).toBeInTheDocument();\n      expect(screen.getByText('ãƒ†ã‚¹ãƒˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰')).toBeInTheDocument();\n      expect(screen.getByTestId('default-field-field')).toBeInTheDocument();\n    });\n\n    it('ã‚«ã‚¹ã‚¿ãƒ childrenãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹', () => {\n      render(\n        <FormField \n          label=\"ã‚«ã‚¹ã‚¿ãƒ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰\"\n          data-testid=\"custom-field\"\n        >\n          <div data-testid=\"custom-content\">ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒ³ãƒ†ãƒ³ãƒ„</div>\n        </FormField>\n      );\n      \n      expect(screen.getByTestId('custom-content')).toBeInTheDocument();\n      expect(screen.getByText('ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒ³ãƒ†ãƒ³ãƒ„')).toBeInTheDocument();\n    });\n  });\n\n  describe('ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚¿ã‚¤ãƒ—', () => {\n    it('type=\"input\"ã§å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã‚‹', () => {\n      render(\n        <FormField \n          type=\"input\"\n          label=\"å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰\"\n          inputProps={{ placeholder: 'ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›' }}\n          data-testid=\"input-field\"\n        />\n      );\n      \n      const input = screen.getByTestId('input-field-field');\n      expect(input).toBeInTheDocument();\n      expect(input).toHaveAttribute('type', 'text');\n      expect(input).toHaveAttribute('placeholder', 'ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›');\n    });\n\n    it('type=\"select\"ã§é¸æŠãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã‚‹', () => {\n      render(\n        <FormField \n          type=\"select\"\n          label=\"é¸æŠãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰\"\n          selectProps={{ options: testSelectOptions, placeholder: 'é¸æŠã—ã¦ãã ã•ã„' }}\n          data-testid=\"select-field\"\n        />\n      );\n      \n      const select = screen.getByTestId('select-field-field');\n      expect(select).toBeInTheDocument();\n      expect(select).toHaveAttribute('role', 'combobox');\n      expect(screen.getByText('é¸æŠã—ã¦ãã ã•ã„')).toBeInTheDocument();\n    });\n\n    it('type=\"textarea\"ã§ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ãŒãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã‚‹', () => {\n      render(\n        <FormField \n          type=\"textarea\"\n          label=\"ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢\"\n          textareaProps={{ placeholder: 'è©³ç´°ã‚’å…¥åŠ›', rows: 4 }}\n          data-testid=\"textarea-field\"\n        />\n      );\n      \n      const textarea = screen.getByTestId('textarea-field-field');\n      expect(textarea).toBeInTheDocument();\n      expect(textarea.tagName).toBe('TEXTAREA');\n      expect(textarea).toHaveAttribute('placeholder', 'è©³ç´°ã‚’å…¥åŠ›');\n      expect(textarea).toHaveAttribute('rows', '4');\n    });\n\n    it('type=\"checkbox\"ã§ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ãŒãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã‚‹', () => {\n      render(\n        <FormField \n          type=\"checkbox\"\n          label=\"ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹\"\n          checkboxProps={{ value: 'check1' }}\n          data-testid=\"checkbox-field\"\n        />\n      );\n      \n      const checkbox = screen.getByTestId('checkbox-field-field');\n      expect(checkbox).toBeInTheDocument();\n      expect(checkbox).toHaveAttribute('type', 'checkbox');\n      expect(checkbox).toHaveAttribute('value', 'check1');\n      \n      // ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã®å ´åˆã€ãƒ©ãƒ™ãƒ«ã¯æ¨ªã«è¡¨ç¤ºã•ã‚Œã‚‹\n      const label = screen.getByText('ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹');\n      expect(label).toBeInTheDocument();\n    });\n\n    it('type=\"radio\"ã§ãƒ©ã‚¸ã‚ªãƒœã‚¿ãƒ³ãŒãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã‚‹', () => {\n      render(\n        <FormField \n          type=\"radio\"\n          label=\"ãƒ©ã‚¸ã‚ªãƒœã‚¿ãƒ³\"\n          options={testRadioOptions}\n          radioProps={{ name: 'test-radio' }}\n          data-testid=\"radio-field\"\n        />\n      );\n      \n      // å„ãƒ©ã‚¸ã‚ªã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚‹\n      testRadioOptions.forEach(option => {\n        expect(screen.getByText(option.label)).toBeInTheDocument();\n      });\n      \n      // ç„¡åŠ¹ãªã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒæ­£ã—ãç„¡åŠ¹åŒ–ã•ã‚Œã‚‹\n      const radioInputs = screen.getAllByRole('radio');\n      expect(radioInputs).toHaveLength(3);\n      expect(radioInputs[2]).toBeDisabled(); // 3ç•ªç›®ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ç„¡åŠ¹\n    });\n\n    it('type=\"button\"ã§ãƒœã‚¿ãƒ³ãŒãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã‚‹', () => {\n      const handleClick = vi.fn();\n      \n      render(\n        <FormField \n          type=\"button\"\n          label=\"é€ä¿¡\"\n          buttonProps={{ variant: 'primary', onClick: handleClick }}\n          data-testid=\"button-field\"\n        />\n      );\n      \n      const button = screen.getByRole('button', { name: 'é€ä¿¡' });\n      expect(button).toBeInTheDocument();\n      expect(button).toHaveTextContent('é€ä¿¡');\n    });\n  });\n\n  describe('ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ', () => {\n    const layouts: FormFieldLayout[] = ['vertical', 'horizontal', 'inline'];\n\n    layouts.forEach(layout => {\n      it(`layout=\"${layout}\" ãŒæ­£ã—ãé©ç”¨ã•ã‚Œã‚‹`, () => {\n        render(\n          <FormField \n            type=\"input\"\n            label=\"ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ†ã‚¹ãƒˆ\"\n            layout={layout}\n            data-testid={`${layout}-field`}\n          />\n        );\n        \n        const field = screen.getByTestId(`${layout}-field`);\n        expect(field).toBeInTheDocument();\n        \n        if (layout === 'vertical') {\n          expect(field.className).toContain('flex-col');\n        } else if (layout === 'horizontal') {\n          expect(field.className).toContain('flex');\n          expect(field.className).toContain('items-start');\n        } else if (layout === 'inline') {\n          expect(field.className).toContain('flex');\n          expect(field.className).toContain('items-center');\n        }\n      });\n    });\n\n    it('horizontalãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã§labelWidthãŒé©ç”¨ã•ã‚Œã‚‹', () => {\n      render(\n        <FormField \n          type=\"input\"\n          label=\"ãƒ©ãƒ™ãƒ«å¹…ãƒ†ã‚¹ãƒˆ\"\n          layout=\"horizontal\"\n          labelWidth=\"200px\"\n          data-testid=\"label-width-field\"\n        />\n      );\n      \n      const label = screen.getByText('ãƒ©ãƒ™ãƒ«å¹…ãƒ†ã‚¹ãƒˆ');\n      expect(label).toHaveStyle({ width: '200px' });\n    });\n  });\n\n  describe('ã‚µã‚¤ã‚º', () => {\n    const sizes: FormFieldSize[] = ['sm', 'md', 'lg'];\n\n    sizes.forEach(size => {\n      it(`size=\"${size}\" ãŒæ­£ã—ãé©ç”¨ã•ã‚Œã‚‹`, () => {\n        render(\n          <FormField \n            type=\"input\"\n            label=\"ã‚µã‚¤ã‚ºãƒ†ã‚¹ãƒˆ\"\n            size={size}\n            data-testid={`${size}-size-field`}\n          />\n        );\n        \n        const input = screen.getByTestId(`${size}-size-field-field`);\n        expect(input).toBeInTheDocument();\n        \n        if (size === 'sm') {\n          expect(input.className).toContain('text-xs');\n        } else if (size === 'lg') {\n          expect(input.className).toContain('text-base');\n        }\n      });\n    });\n  });\n\n  describe('å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰', () => {\n    it('required=trueã§å¿…é ˆãƒãƒ¼ã‚¯ãŒè¡¨ç¤ºã•ã‚Œã‚‹', () => {\n      render(\n        <FormField \n          type=\"input\"\n          label=\"å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰\"\n          required\n          data-testid=\"required-field\"\n        />\n      );\n      \n      const requiredMark = screen.getByLabelText('å¿…é ˆ');\n      expect(requiredMark).toBeInTheDocument();\n      expect(requiredMark).toHaveTextContent('*');\n    });\n\n    it('ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã§å¿…é ˆãƒãƒ¼ã‚¯ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹', () => {\n      render(\n        <FormField \n          type=\"checkbox\"\n          label=\"å¿…é ˆãƒã‚§ãƒƒã‚¯\"\n          required\n          data-testid=\"required-checkbox\"\n        />\n      );\n      \n      const requiredMark = screen.getByLabelText('å¿…é ˆ');\n      expect(requiredMark).toBeInTheDocument();\n    });\n  });\n\n  describe('ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸', () => {\n    it('ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹', () => {\n      const errorMessage = 'ã“ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯å¿…é ˆã§ã™';\n      \n      render(\n        <FormField \n          type=\"input\"\n          label=\"ã‚¨ãƒ©ãƒ¼ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰\"\n          error={errorMessage}\n          data-testid=\"error-field\"\n        />\n      );\n      \n      const errorElement = screen.getByTestId('error-field-error');\n      expect(errorElement).toBeInTheDocument();\n      expect(errorElement).toHaveTextContent(errorMessage);\n      expect(errorElement).toHaveAttribute('role', 'alert');\n    });\n\n    it('ã‚¨ãƒ©ãƒ¼ãŒã‚ã‚‹å ´åˆã¯ãƒ˜ãƒ«ãƒ—ãƒ†ã‚­ã‚¹ãƒˆã¯è¡¨ç¤ºã•ã‚Œãªã„', () => {\n      render(\n        <FormField \n          type=\"input\"\n          label=\"ã‚¨ãƒ©ãƒ¼ãƒ˜ãƒ«ãƒ—ãƒ†ã‚¹ãƒˆ\"\n          error=\"ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸\"\n          helpText=\"ãƒ˜ãƒ«ãƒ—ãƒ†ã‚­ã‚¹ãƒˆ\"\n          data-testid=\"error-help-field\"\n        />\n      );\n      \n      expect(screen.getByText('ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸')).toBeInTheDocument();\n      expect(screen.queryByText('ãƒ˜ãƒ«ãƒ—ãƒ†ã‚­ã‚¹ãƒˆ')).not.toBeInTheDocument();\n    });\n  });\n\n  describe('ãƒ˜ãƒ«ãƒ—ãƒ†ã‚­ã‚¹ãƒˆ', () => {\n    it('ãƒ˜ãƒ«ãƒ—ãƒ†ã‚­ã‚¹ãƒˆãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹', () => {\n      const helpText = 'åŠè§’è‹±æ•°å­—ã§å…¥åŠ›ã—ã¦ãã ã•ã„';\n      \n      render(\n        <FormField \n          type=\"input\"\n          label=\"ãƒ˜ãƒ«ãƒ—ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰\"\n          helpText={helpText}\n          data-testid=\"help-field\"\n        />\n      );\n      \n      const helpElement = screen.getByTestId('help-field-help');\n      expect(helpElement).toBeInTheDocument();\n      expect(helpElement).toHaveTextContent(helpText);\n    });\n  });\n\n  describe('disabledçŠ¶æ…‹', () => {\n    it('disabled=trueã§ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒç„¡åŠ¹åŒ–ã•ã‚Œã‚‹', () => {\n      render(\n        <FormField \n          type=\"input\"\n          label=\"ç„¡åŠ¹ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰\"\n          disabled\n          data-testid=\"disabled-field\"\n        />\n      );\n      \n      const input = screen.getByTestId('disabled-field-field');\n      expect(input).toBeDisabled();\n    });\n\n    it('ãƒ©ã‚¸ã‚ªãƒœã‚¿ãƒ³ã§å€‹åˆ¥ã¨ã‚°ãƒ­ãƒ¼ãƒãƒ«ã®ç„¡åŠ¹åŒ–ãŒæ­£ã—ãå‹•ä½œã™ã‚‹', () => {\n      render(\n        <FormField \n          type=\"radio\"\n          label=\"ç„¡åŠ¹ãƒ©ã‚¸ã‚ª\"\n          options={testRadioOptions}\n          disabled\n          data-testid=\"disabled-radio\"\n        />\n      );\n      \n      const radioInputs = screen.getAllByRole('radio');\n      radioInputs.forEach(radio => {\n        expect(radio).toBeDisabled();\n      });\n    });\n  });\n\n  describe('fullWidth', () => {\n    it('fullWidth=falseã§å¹…ãŒåˆ¶é™ã•ã‚Œã‚‹', () => {\n      render(\n        <FormField \n          type=\"input\"\n          label=\"å¹…åˆ¶é™ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰\"\n          fullWidth={false}\n          data-testid=\"limited-width-field\"\n        />\n      );\n      \n      const field = screen.getByTestId('limited-width-field');\n      expect(field.className).toContain('w-auto');\n    });\n  });\n\n  describe('ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°', () => {\n    it('å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã§ã‚¤ãƒ™ãƒ³ãƒˆãŒæ­£ã—ãå‹•ä½œã™ã‚‹', async () => {\n      const handleChange = vi.fn();\n      const user = userEvent.setup();\n      \n      render(\n        <FormField \n          type=\"input\"\n          label=\"ã‚¤ãƒ™ãƒ³ãƒˆãƒ†ã‚¹ãƒˆ\"\n          inputProps={{ onChange: handleChange }}\n          data-testid=\"event-field\"\n        />\n      );\n      \n      const input = screen.getByTestId('event-field-field');\n      await user.type(input, 'ãƒ†ã‚¹ãƒˆ');\n      \n      expect(handleChange).toHaveBeenCalled();\n    });\n\n    it('ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã§ã‚¤ãƒ™ãƒ³ãƒˆãŒæ­£ã—ãå‹•ä½œã™ã‚‹', async () => {\n      const handleChange = vi.fn();\n      const user = userEvent.setup();\n      \n      render(\n        <FormField \n          type=\"checkbox\"\n          label=\"ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆ\"\n          checkboxProps={{ onChange: handleChange }}\n          data-testid=\"checkbox-event\"\n        />\n      );\n      \n      const checkbox = screen.getByTestId('checkbox-event-field');\n      await user.click(checkbox);\n      \n      expect(handleChange).toHaveBeenCalled();\n    });\n\n    it('ãƒœã‚¿ãƒ³ã§ã‚¤ãƒ™ãƒ³ãƒˆãŒæ­£ã—ãå‹•ä½œã™ã‚‹', async () => {\n      const handleClick = vi.fn();\n      const user = userEvent.setup();\n      \n      render(\n        <FormField \n          type=\"button\"\n          label=\"ã‚¯ãƒªãƒƒã‚¯\"\n          buttonProps={{ onClick: handleClick }}\n          data-testid=\"button-event\"\n        />\n      );\n      \n      const button = screen.getByRole('button', { name: 'ã‚¯ãƒªãƒƒã‚¯' });\n      await user.click(button);\n      \n      expect(handleClick).toHaveBeenCalled();\n    });\n  });\n\n  describe('ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£', () => {\n    it('ãƒ©ãƒ™ãƒ«ã¨ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒæ­£ã—ãé–¢é€£ä»˜ã‘ã‚‰ã‚Œã‚‹', () => {\n      render(\n        <FormField \n          type=\"input\"\n          label=\"ã‚¢ã‚¯ã‚»ã‚·ãƒ–ãƒ«ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰\"\n          data-testid=\"accessible-field\"\n        />\n      );\n      \n      const input = screen.getByTestId('accessible-field-field');\n      const label = screen.getByText('ã‚¢ã‚¯ã‚»ã‚·ãƒ–ãƒ«ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰');\n      \n      expect(label).toHaveAttribute('for', input.id);\n    });\n\n    it('ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹ã§ariaå±æ€§ãŒæ­£ã—ãè¨­å®šã•ã‚Œã‚‹', () => {\n      render(\n        <FormField \n          type=\"input\"\n          label=\"ã‚¨ãƒ©ãƒ¼ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£\"\n          error=\"ã‚¨ãƒ©ãƒ¼ã§ã™\"\n          data-testid=\"error-a11y-field\"\n        />\n      );\n      \n      const input = screen.getByTestId('error-a11y-field-field');\n      expect(input).toHaveAttribute('aria-invalid', 'true');\n    });\n  });\n\n  describe('ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º', () => {\n    it('ã‚«ã‚¹ã‚¿ãƒ ã‚¯ãƒ©ã‚¹ãŒæ­£ã—ãé©ç”¨ã•ã‚Œã‚‹', () => {\n      render(\n        <FormField \n          type=\"input\"\n          label=\"ã‚«ã‚¹ã‚¿ãƒ ã‚¯ãƒ©ã‚¹\"\n          className=\"custom-field\"\n          labelClassName=\"custom-label\"\n          fieldClassName=\"custom-field-container\"\n          errorClassName=\"custom-error\"\n          helpClassName=\"custom-help\"\n          error=\"ã‚¨ãƒ©ãƒ¼\"\n          helpText=\"ãƒ˜ãƒ«ãƒ—\"\n          data-testid=\"custom-classes\"\n        />\n      );\n      \n      const field = screen.getByTestId('custom-classes');\n      expect(field.className).toContain('custom-field');\n      \n      const label = screen.getByText('ã‚«ã‚¹ã‚¿ãƒ ã‚¯ãƒ©ã‚¹');\n      expect(label.className).toContain('custom-label');\n    });\n  });\n\n  describe('å‹å®‰å…¨æ€§', () => {\n    it('FormFieldPropsã®å‹ãŒæ­£ã—ãé©ç”¨ã•ã‚Œã‚‹', () => {\n      // å‹ãƒã‚§ãƒƒã‚¯ã®ã¿ï¼ˆå®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼ãŒãªã„ã“ã¨ã‚’ç¢ºèªï¼‰\n      const formFieldProps: FormFieldProps = {\n        type: 'input',\n        label: 'ã‚¿ã‚¤ãƒ—ã‚»ãƒ¼ãƒ•ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰',\n        layout: 'horizontal',\n        size: 'lg',\n        required: true,\n        fullWidth: false,\n        inputProps: {\n          type: 'email',\n          placeholder: 'example@domain.com'\n        },\n        'data-testid': 'type-safe-field'\n      };\n      \n      render(<FormField {...formFieldProps} />);\n      \n      expect(screen.getByTestId('type-safe-field')).toBeInTheDocument();\n    });\n  });\n});"
     |                                          ^
  
13:42:05 [vite] (client) Pre-transform error: Transform failed with 1 error:
/Users/hirose/dev/mascot/src/renderer/components/common/Select.test.tsx:6:4: ERROR: Syntax error "n"
  Plugin: vite:esbuild
  File: /Users/hirose/dev/mascot/src/renderer/components/common/Select.test.tsx:6:4
  
  Syntax error "n"
  4  |   * Phase 3.5.2.1 Task 3: Selectã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ†ã‚¹ãƒˆ
  5  |   * TypeScriptå³å¯†å‹å®šç¾©ã€ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã€ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³æ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆ
  6  |   */\n\nimport React from 'react';\nimport { describe, it, expect, vi } from 'vitest';\nimport { render, screen, fireEvent, waitFor } from '@testing-library/react';\nimport userEvent from '@testing-library/user-event';\n\n// ãƒ†ã‚¹ãƒˆå¯¾è±¡\nimport Select, { type SelectProps, type SelectOption, type SelectSize, type SelectVariant } from './Select';\n\n// ãƒ†ã‚¹ãƒˆç”¨ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãƒ‡ãƒ¼ã‚¿\nconst testOptions: SelectOption[] = [\n  { value: 'option1', label: 'ã‚ªãƒ—ã‚·ãƒ§ãƒ³1' },\n  { value: 'option2', label: 'ã‚ªãƒ—ã‚·ãƒ§ãƒ³2', description: 'èª¬æ˜2' },\n  { value: 'option3', label: 'ã‚ªãƒ—ã‚·ãƒ§ãƒ³3', disabled: true },\n  { value: 'option4', label: 'ã‚ªãƒ—ã‚·ãƒ§ãƒ³4', description: 'èª¬æ˜4' },\n];\n\n// ãƒ†ã‚¹ãƒˆç”¨ã®ã‚¢ã‚¤ã‚³ãƒ³ä»˜ãã‚ªãƒ—ã‚·ãƒ§ãƒ³\nconst TestIcon: React.FC = () => (\n  <svg data-testid=\"test-icon\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\">\n    <circle cx=\"8\" cy=\"8\" r=\"4\" />\n  </svg>\n);\n\nconst testOptionsWithIcons: SelectOption[] = [\n  { value: 'icon1', label: 'ã‚¢ã‚¤ã‚³ãƒ³1', icon: <TestIcon /> },\n  { value: 'icon2', label: 'ã‚¢ã‚¤ã‚³ãƒ³2', icon: <TestIcon /> },\n];\n\ndescribe('Select Component', () => {\n  describe('åŸºæœ¬çš„ãªãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°', () => {\n    it('ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®propsã§æ­£å¸¸ã«ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã‚‹', () => {\n      render(<Select options={testOptions} data-testid=\"default-select\" />);\n      \n      const select = screen.getByTestId('default-select');\n      expect(select).toBeInTheDocument();\n      expect(select).toHaveAttribute('role', 'combobox');\n      expect(select).toHaveAttribute('aria-expanded', 'false');\n    });\n\n    it('ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹', () => {\n      const placeholder = 'ã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼';\n      render(<Select options={testOptions} placeholder={placeholder} data-testid=\"placeholder-select\" />);\n      \n      expect(screen.getByText(placeholder)).toBeInTheDocument();\n    });\n\n    it('ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ãŒæ­£ã—ãè¨­å®šã•ã‚Œã‚‹', () => {\n      render(\n        <Select \n          options={testOptions} \n          defaultValue=\"option2\" \n          data-testid=\"default-value-select\" \n        />\n      );\n      \n      expect(screen.getByText('ã‚ªãƒ—ã‚·ãƒ§ãƒ³2')).toBeInTheDocument();\n    });\n  });\n\n  describe('ã‚µã‚¤ã‚ºï¼ˆsizeï¼‰', () => {\n    const sizes: SelectSize[] = ['sm', 'md', 'lg'];\n\n    sizes.forEach(size => {\n      it(`size=\"${size}\" ãŒæ­£ã—ãé©ç”¨ã•ã‚Œã‚‹`, () => {\n        render(<Select options={testOptions} size={size} data-testid={`${size}-select`} />);\n        \n        const select = screen.getByTestId(`${size}-select`);\n        expect(select).toBeInTheDocument();\n        \n        if (size === 'sm') {\n          expect(select.className).toContain('text-xs');\n        } else if (size === 'lg') {\n          expect(select.className).toContain('text-base');\n        }\n      });\n    });\n  });\n\n  describe('ãƒãƒªã‚¢ãƒ³ãƒˆï¼ˆvariantï¼‰', () => {\n    const variants: SelectVariant[] = ['default', 'error', 'success'];\n\n    variants.forEach(variant => {\n      it(`variant=\"${variant}\" ãŒæ­£ã—ãé©ç”¨ã•ã‚Œã‚‹`, () => {\n        render(<Select options={testOptions} variant={variant} data-testid={`${variant}-select`} />);\n        \n        const select = screen.getByTestId(`${variant}-select`);\n        expect(select).toBeInTheDocument();\n        \n        if (variant === 'error') {\n          expect(select.className).toContain('border-red-500');\n          expect(select).toHaveAttribute('aria-invalid', 'true');\n        } else if (variant === 'success') {\n          expect(select.className).toContain('border-green-500');\n        }\n      });\n    });\n  });\n\n  describe('ãƒ©ãƒ™ãƒ«', () => {\n    it('ãƒ©ãƒ™ãƒ«ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹', () => {\n      const label = 'ã‚»ãƒ¬ã‚¯ãƒˆãƒ©ãƒ™ãƒ«';\n      render(<Select options={testOptions} label={label} data-testid=\"labeled-select\" />);\n      \n      const labelElement = screen.getByText(label);\n      const select = screen.getByTestId('labeled-select');\n      \n      expect(labelElement).toBeInTheDocument();\n      expect(labelElement).toHaveAttribute('for', select.id);\n    });\n\n    it('required=trueã§å¿…é ˆãƒãƒ¼ã‚¯ãŒè¡¨ç¤ºã•ã‚Œã‚‹', () => {\n      render(<Select options={testOptions} label=\"å¿…é ˆã‚»ãƒ¬ã‚¯ãƒˆ\" required data-testid=\"required-select\" />);\n      \n      const requiredMark = screen.getByLabelText('å¿…é ˆ');\n      expect(requiredMark).toBeInTheDocument();\n      expect(requiredMark).toHaveTextContent('*');\n    });\n  });\n\n  describe('ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸', () => {\n    it('ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹', () => {\n      const errorMessage = 'é¸æŠãŒå¿…è¦ã§ã™';\n      render(<Select options={testOptions} error={errorMessage} data-testid=\"error-select\" />);\n      \n      const select = screen.getByTestId('error-select');\n      const errorElement = screen.getByTestId('error-select-error');\n      \n      expect(errorElement).toBeInTheDocument();\n      expect(errorElement).toHaveTextContent(errorMessage);\n      expect(errorElement).toHaveAttribute('role', 'alert');\n      expect(select).toHaveAttribute('aria-invalid', 'true');\n    });\n\n    it('ã‚¨ãƒ©ãƒ¼ãŒã‚ã‚‹å ´åˆã¯variantãŒerrorã«å¤‰æ›´ã•ã‚Œã‚‹', () => {\n      render(<Select options={testOptions} variant=\"success\" error=\"ã‚¨ãƒ©ãƒ¼ã§ã™\" data-testid=\"error-override\" />);\n      \n      const select = screen.getByTestId('error-override');\n      expect(select.className).toContain('border-red-500');\n    });\n  });\n\n  describe('ãƒ˜ãƒ«ãƒ—ãƒ†ã‚­ã‚¹ãƒˆ', () => {\n    it('ãƒ˜ãƒ«ãƒ—ãƒ†ã‚­ã‚¹ãƒˆãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹', () => {\n      const helpText = 'é¸æŠã—ã¦ãã ã•ã„';\n      render(<Select options={testOptions} helpText={helpText} data-testid=\"help-select\" />);\n      \n      const helpElement = screen.getByTestId('help-select-help');\n      expect(helpElement).toBeInTheDocument();\n      expect(helpElement).toHaveTextContent(helpText);\n    });\n\n    it('ã‚¨ãƒ©ãƒ¼ãŒã‚ã‚‹å ´åˆã¯ãƒ˜ãƒ«ãƒ—ãƒ†ã‚­ã‚¹ãƒˆã¯è¡¨ç¤ºã•ã‚Œãªã„', () => {\n      render(\n        <Select \n          options={testOptions}\n          helpText=\"ãƒ˜ãƒ«ãƒ—ãƒ†ã‚­ã‚¹ãƒˆ\" \n          error=\"ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸\" \n          data-testid=\"error-help-select\"\n        />\n      );\n      \n      expect(screen.queryByText('ãƒ˜ãƒ«ãƒ—ãƒ†ã‚­ã‚¹ãƒˆ')).not.toBeInTheDocument();\n      expect(screen.getByText('ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸')).toBeInTheDocument();\n    });\n  });\n\n  describe('ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³æ“ä½œ', () => {\n    it('ã‚¯ãƒªãƒƒã‚¯ã§ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãŒé–‹ã', async () => {\n      const user = userEvent.setup();\n      render(<Select options={testOptions} data-testid=\"dropdown-select\" />);\n      \n      const select = screen.getByTestId('dropdown-select');\n      expect(select).toHaveAttribute('aria-expanded', 'false');\n      \n      await user.click(select);\n      \n      expect(select).toHaveAttribute('aria-expanded', 'true');\n      expect(screen.getByRole('listbox')).toBeInTheDocument();\n    });\n\n    it('ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹', async () => {\n      const user = userEvent.setup();\n      render(<Select options={testOptions} data-testid=\"options-select\" />);\n      \n      await user.click(screen.getByTestId('options-select'));\n      \n      testOptions.forEach(option => {\n        expect(screen.getByText(option.label)).toBeInTheDocument();\n      });\n    });\n\n    it('ã‚ªãƒ—ã‚·ãƒ§ãƒ³é¸æŠãŒæ­£ã—ãå‹•ä½œã™ã‚‹', async () => {\n      const handleChange = vi.fn();\n      const user = userEvent.setup();\n      \n      render(<Select options={testOptions} onChange={handleChange} data-testid=\"select-option\" />);\n      \n      await user.click(screen.getByTestId('select-option'));\n      await user.click(screen.getByText('ã‚ªãƒ—ã‚·ãƒ§ãƒ³2'));\n      \n      expect(handleChange).toHaveBeenCalledWith('option2', testOptions[1]);\n      expect(screen.getByText('ã‚ªãƒ—ã‚·ãƒ§ãƒ³2')).toBeInTheDocument();\n    });\n\n    it('ç„¡åŠ¹ãªã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯é¸æŠã§ããªã„', async () => {\n      const handleChange = vi.fn();\n      const user = userEvent.setup();\n      \n      render(<Select options={testOptions} onChange={handleChange} data-testid=\"disabled-option\" />);\n      \n      await user.click(screen.getByTestId('disabled-option'));\n      await user.click(screen.getByText('ã‚ªãƒ—ã‚·ãƒ§ãƒ³3'));\n      \n      expect(handleChange).not.toHaveBeenCalled();\n    });\n  });\n\n  describe('ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³', () => {\n    it('Enterã‚­ãƒ¼ã§ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãŒé–‹ã', () => {\n      render(<Select options={testOptions} data-testid=\"keyboard-select\" />);\n      \n      const select = screen.getByTestId('keyboard-select');\n      fireEvent.keyDown(select, { key: 'Enter' });\n      \n      expect(select).toHaveAttribute('aria-expanded', 'true');\n    });\n\n    it('Spaceã‚­ãƒ¼ã§ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãŒé–‹ã', () => {\n      render(<Select options={testOptions} data-testid=\"space-select\" />);\n      \n      const select = screen.getByTestId('space-select');\n      fireEvent.keyDown(select, { key: ' ' });\n      \n      expect(select).toHaveAttribute('aria-expanded', 'true');\n    });\n\n    it('Escapeã‚­ãƒ¼ã§ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãŒé–‰ã˜ã‚‹', async () => {\n      const user = userEvent.setup();\n      render(<Select options={testOptions} data-testid=\"escape-select\" />);\n      \n      const select = screen.getByTestId('escape-select');\n      await user.click(select);\n      expect(select).toHaveAttribute('aria-expanded', 'true');\n      \n      fireEvent.keyDown(select, { key: 'Escape' });\n      expect(select).toHaveAttribute('aria-expanded', 'false');\n    });\n\n    it('ArrowDownã‚­ãƒ¼ã§ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãŒé–‹ã', () => {\n      render(<Select options={testOptions} data-testid=\"arrow-select\" />);\n      \n      const select = screen.getByTestId('arrow-select');\n      fireEvent.keyDown(select, { key: 'ArrowDown' });\n      \n      expect(select).toHaveAttribute('aria-expanded', 'true');\n    });\n  });\n\n  describe('æ¤œç´¢æ©Ÿèƒ½', () => {\n    it('searchable=trueã§æ¤œç´¢å…¥åŠ›ãŒè¡¨ç¤ºã•ã‚Œã‚‹', async () => {\n      const user = userEvent.setup();\n      render(<Select options={testOptions} searchable data-testid=\"searchable-select\" />);\n      \n      await user.click(screen.getByTestId('searchable-select'));\n      \n      const searchInput = screen.getByTestId('searchable-select-search');\n      expect(searchInput).toBeInTheDocument();\n    });\n\n    it('æ¤œç´¢ã«ã‚ˆã‚Šã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã•ã‚Œã‚‹', async () => {\n      const user = userEvent.setup();\n      render(<Select options={testOptions} searchable data-testid=\"filter-select\" />);\n      \n      await user.click(screen.getByTestId('filter-select'));\n      \n      const searchInput = screen.getByTestId('filter-select-search');\n      await user.type(searchInput, 'ã‚ªãƒ—ã‚·ãƒ§ãƒ³2');\n      \n      expect(screen.getByText('ã‚ªãƒ—ã‚·ãƒ§ãƒ³2')).toBeInTheDocument();\n      expect(screen.queryByText('ã‚ªãƒ—ã‚·ãƒ§ãƒ³1')).not.toBeInTheDocument();\n    });\n\n    it('æ¤œç´¢çµæœãŒãªã„å ´åˆã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹', async () => {\n      const user = userEvent.setup();\n      render(<Select options={testOptions} searchable data-testid=\"no-results-select\" />);\n      \n      await user.click(screen.getByTestId('no-results-select'));\n      \n      const searchInput = screen.getByTestId('no-results-select-search');\n      await user.type(searchInput, 'å­˜åœ¨ã—ãªã„ã‚ªãƒ—ã‚·ãƒ§ãƒ³');\n      \n      expect(screen.getByText('è©²å½“ã™ã‚‹é …ç›®ãŒã‚ã‚Šã¾ã›ã‚“')).toBeInTheDocument();\n    });\n  });\n\n  describe('è¤‡æ•°é¸æŠ', () => {\n    it('multiple=trueã§è¤‡æ•°é¸æŠãŒå¯èƒ½', async () => {\n      const handleMultipleChange = vi.fn();\n      const user = userEvent.setup();\n      \n      render(\n        <Select \n          options={testOptions} \n          multiple \n          onMultipleChange={handleMultipleChange}\n          data-testid=\"multiple-select\" \n        />\n      );\n      \n      await user.click(screen.getByTestId('multiple-select'));\n      await user.click(screen.getByText('ã‚ªãƒ—ã‚·ãƒ§ãƒ³1'));\n      \n      expect(handleMultipleChange).toHaveBeenCalledWith(['option1'], expect.any(Array));\n    });\n\n    it('è¤‡æ•°é¸æŠæ™‚ã®è¡¨ç¤ºãŒæ­£ã—ãå‹•ä½œã™ã‚‹', async () => {\n      const user = userEvent.setup();\n      \n      render(\n        <Select \n          options={testOptions} \n          multiple \n          multipleValue={['option1', 'option2']}\n          data-testid=\"multiple-display\" \n        />\n      );\n      \n      expect(screen.getByText('2ä»¶é¸æŠä¸­')).toBeInTheDocument();\n    });\n  });\n\n  describe('ã‚¢ã‚¤ã‚³ãƒ³è¡¨ç¤º', () => {\n    it('ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®ã‚¢ã‚¤ã‚³ãƒ³ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹', async () => {\n      const user = userEvent.setup();\n      \n      render(<Select options={testOptionsWithIcons} data-testid=\"icon-select\" />);\n      \n      await user.click(screen.getByTestId('icon-select'));\n      \n      const icons = screen.getAllByTestId('test-icon');\n      expect(icons).toHaveLength(2);\n    });\n  });\n\n  describe('disabledçŠ¶æ…‹', () => {\n    it('disabled=trueã§ã‚»ãƒ¬ã‚¯ãƒˆãŒç„¡åŠ¹åŒ–ã•ã‚Œã‚‹', () => {\n      render(<Select options={testOptions} disabled data-testid=\"disabled-select\" />);\n      \n      const select = screen.getByTestId('disabled-select');\n      expect(select).toHaveAttribute('tabIndex', '-1');\n    });\n\n    it('disabledçŠ¶æ…‹ã§ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆãŒç™ºç«ã—ãªã„', async () => {\n      const user = userEvent.setup();\n      render(<Select options={testOptions} disabled data-testid=\"disabled-click\" />);\n      \n      const select = screen.getByTestId('disabled-click');\n      await user.click(select);\n      \n      expect(select).toHaveAttribute('aria-expanded', 'false');\n    });\n  });\n\n  describe('ã‚«ã‚¹ã‚¿ãƒ ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°', () => {\n    it('renderOptionãŒæ­£ã—ãå‹•ä½œã™ã‚‹', async () => {\n      const renderOption = (option: SelectOption, isSelected: boolean) => (\n        <div data-testid={`custom-option-${option.value}`}>\n          ã‚«ã‚¹ã‚¿ãƒ : {option.label} {isSelected && 'âœ“'}\n        </div>\n      );\n      \n      const user = userEvent.setup();\n      \n      render(\n        <Select \n          options={testOptions} \n          renderOption={renderOption}\n          data-testid=\"custom-render\" \n        />\n      );\n      \n      await user.click(screen.getByTestId('custom-render'));\n      \n      expect(screen.getByTestId('custom-option-option1')).toBeInTheDocument();\n      expect(screen.getByText('ã‚«ã‚¹ã‚¿ãƒ : ã‚ªãƒ—ã‚·ãƒ§ãƒ³1')).toBeInTheDocument();\n    });\n\n    it('renderSelectedValueãŒæ­£ã—ãå‹•ä½œã™ã‚‹', () => {\n      const renderSelectedValue = (option: SelectOption | null) => (\n        option ? `é¸æŠä¸­: ${option.label}` : 'æœªé¸æŠ'\n      );\n      \n      render(\n        <Select \n          options={testOptions}\n          value=\"option1\"\n          renderSelectedValue={renderSelectedValue}\n          data-testid=\"custom-value\" \n        />\n      );\n      \n      expect(screen.getByText('é¸æŠä¸­: ã‚ªãƒ—ã‚·ãƒ§ãƒ³1')).toBeInTheDocument();\n    });\n  });\n\n  describe('fullWidth', () => {\n    it('fullWidth=falseã§å¹…ãŒåˆ¶é™ã•ã‚Œã‚‹', () => {\n      render(<Select options={testOptions} fullWidth={false} data-testid=\"limited-width\" />);\n      \n      const container = screen.getByTestId('limited-width').parentElement;\n      expect(container?.className).toContain('w-auto');\n    });\n  });\n\n  describe('ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£', () => {\n    it('combobox roleãŒæ­£ã—ãè¨­å®šã•ã‚Œã‚‹', () => {\n      render(<Select options={testOptions} data-testid=\"a11y-select\" />);\n      \n      const select = screen.getByTestId('a11y-select');\n      expect(select).toHaveAttribute('role', 'combobox');\n    });\n\n    it('aria-expandedå±æ€§ãŒæ­£ã—ãè¨­å®šã•ã‚Œã‚‹', async () => {\n      const user = userEvent.setup();\n      render(<Select options={testOptions} data-testid=\"aria-expanded\" />);\n      \n      const select = screen.getByTestId('aria-expanded');\n      expect(select).toHaveAttribute('aria-expanded', 'false');\n      \n      await user.click(select);\n      expect(select).toHaveAttribute('aria-expanded', 'true');\n    });\n\n    it('aria-requiredå±æ€§ãŒæ­£ã—ãè¨­å®šã•ã‚Œã‚‹', () => {\n      render(<Select options={testOptions} required data-testid=\"aria-required\" />);\n      \n      const select = screen.getByTestId('aria-required');\n      expect(select).toHaveAttribute('aria-required', 'true');\n    });\n  });\n\n  describe('å‹å®‰å…¨æ€§', () => {\n    it('SelectPropsã®å‹ãŒæ­£ã—ãé©ç”¨ã•ã‚Œã‚‹', () => {\n      // å‹ãƒã‚§ãƒƒã‚¯ã®ã¿ï¼ˆå®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼ãŒãªã„ã“ã¨ã‚’ç¢ºèªï¼‰\n      const selectProps: SelectProps = {\n        options: testOptions,\n        size: 'lg',\n        variant: 'success',\n        label: 'ãƒ†ã‚¹ãƒˆã‚»ãƒ¬ã‚¯ãƒˆ',\n        placeholder: 'ã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼',\n        searchable: true,\n        multiple: false,\n        required: true,\n        'data-testid': 'type-safe-select'\n      };\n      \n      render(<Select {...selectProps} />);\n      \n      expect(screen.getByTestId('type-safe-select')).toBeInTheDocument();\n    });\n  });\n});"
     |      ^
  
13:42:05 [vite] (client) Pre-transform error: Failed to resolve import "./FormField" from "src/renderer/components/common/index.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/hirose/dev/mascot/src/renderer/components/common/index.ts:35:37
  3  |  export { default as Input } from "./Input";
  4  |  export { default as Select } from "./Select";
  5  |  export { default as FormField } from "./FormField";
     |                                        ^
  6  |  export { default as Card } from "./Card";
  7  |  export { default as LazyComponent, LazySettingsWindow, LazyChatApp, useComponentLoading } from "./LazyComponent";
13:42:05 [vite] (client) Pre-transform error: Failed to resolve import "./FormField" from "src/renderer/components/common/index.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/hirose/dev/mascot/src/renderer/components/common/index.ts:35:37
  3  |  export { default as Input } from "./Input";
  4  |  export { default as Select } from "./Select";
  5  |  export { default as FormField } from "./FormField";
     |                                        ^
  6  |  export { default as Card } from "./Card";
  7  |  export { default as LazyComponent, LazySettingsWindow, LazyChatApp, useComponentLoading } from "./LazyComponent";
13:42:05 [vite] (client) Pre-transform error: Failed to resolve import "./FormField" from "src/renderer/components/common/index.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/hirose/dev/mascot/src/renderer/components/common/index.ts:35:37
  3  |  export { default as Input } from "./Input";
  4  |  export { default as Select } from "./Select";
  5  |  export { default as FormField } from "./FormField";
     |                                        ^
  6  |  export { default as Card } from "./Card";
  7  |  export { default as LazyComponent, LazySettingsWindow, LazyChatApp, useComponentLoading } from "./LazyComponent";

build started...

build started...
13:42:05 [vite] (client) Pre-transform error: Failed to resolve import "./FormField" from "src/renderer/components/common/index.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/hirose/dev/mascot/src/renderer/components/common/index.ts:35:37
  3  |  export { default as Input } from "./Input";
  4  |  export { default as Select } from "./Select";
  5  |  export { default as FormField } from "./FormField";
     |                                        ^
  6  |  export { default as Card } from "./Card";
  7  |  export { default as LazyComponent, LazySettingsWindow, LazyChatApp, useComponentLoading } from "./LazyComponent";
13:42:05 [vite] (client) Pre-transform error: Failed to resolve import "./FormField" from "src/renderer/components/common/index.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/hirose/dev/mascot/src/renderer/components/common/index.ts:35:37
  3  |  export { default as Input } from "./Input";
  4  |  export { default as Select } from "./Select";
  5  |  export { default as FormField } from "./FormField";
     |                                        ^
  6  |  export { default as Card } from "./Card";
  7  |  export { default as LazyComponent, LazySettingsWindow, LazyChatApp, useComponentLoading } from "./LazyComponent";
transforming...
transforming...
âœ“ 1 modules transformed.
rendering chunks...
computing gzip size...
.vite/build/preload.js  7.04 kB â”‚ gzip: 1.47 kB
built in 56ms.
âœ“ 432 modules transformed.
rendering chunks...
computing gzip size...
.vite/build/main.js  840.34 kB â”‚ gzip: 167.11 kB
built in 579ms.
âœ” Compiling main process code
âœ” [plugin-vite] Preparing vite bundles
âœ” Running preStart hook
[?25h
[SettingsStore] è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜å ´æ‰€: /Users/hirose/Library/Application Support/llmdesktopmascot/app-settings.json
[SettingsStore] ç¾åœ¨ä¿å­˜ã•ã‚Œã¦ã„ã‚‹ãƒ‡ãƒ¼ã‚¿: [Object: null prototype] {
  windowSize: { width: 400, height: 600, preset: 'medium' },
  vrmModelPath: '/avatar.vrm',
  cameraSettings: {
    position: { x: 0, y: 1.2, z: 5 },
    target: { x: 0, y: 1, z: 0 },
    zoom: 1
  },
  chatWindowVisible: false,
  userName: 'User',
  mascotName: 'Mascot',
  systemPromptCore: 'ã‚ãªãŸã¯è¦ªã—ã¿ã‚„ã™ã„ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ãƒã‚¹ã‚³ãƒƒãƒˆã§ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ã®ä¼šè©±ã‚’æ¥½ã—ã¿ã€å½¹ç«‹ã¤æƒ…å ±ã‚’æä¾›ã—ã¦ãã ã•ã„ã€‚',
  theme: 'default',
  defaultExpression: 'neutral',
  expressionSettings: {
    happy: { enabled: true, defaultWeight: 1 },
    sad: { enabled: true, defaultWeight: 1 },
    angry: { enabled: true, defaultWeight: 1 },
    surprised: { enabled: true, defaultWeight: 1 },
    relaxed: { enabled: true, defaultWeight: 1 },
    neutral: { enabled: true, defaultWeight: 1 },
    fun: { enabled: true, defaultWeight: 1 },
    joy: { enabled: true, defaultWeight: 1 },
    sorrow: { enabled: true, defaultWeight: 1 },
    aa: { enabled: true, defaultWeight: 1 },
    ih: { enabled: true, defaultWeight: 1 },
    ou: { enabled: true, defaultWeight: 1 },
    ee: { enabled: true, defaultWeight: 1 },
    oh: { enabled: true, defaultWeight: 1 },
    blink: { enabled: true, defaultWeight: 1 },
    blinkL: { enabled: true, defaultWeight: 1 },
    blinkR: { enabled: true, defaultWeight: 1 }
  },
  mainWindowBounds: { x: 967, y: 211, width: 400, height: 600 }
}
[SettingsStore] æ—¢å­˜ã®è¡¨æƒ…è¨­å®šã‚’ä½¿ç”¨ã—ã¾ã™: [
  'happy',   'sad',
  'angry',   'surprised',
  'relaxed', 'neutral',
  'fun',     'joy',
  'sorrow',  'aa',
  'ih',      'ou',
  'ee',      'oh',
  'blink',   'blinkL',
  'blinkR'
]
[SettingsStore] è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜å ´æ‰€: /Users/hirose/Library/Application Support/llmdesktopmascot/app-settings.json
[SettingsStore] ç¾åœ¨ä¿å­˜ã•ã‚Œã¦ã„ã‚‹ãƒ‡ãƒ¼ã‚¿: [Object: null prototype] {
  windowSize: { width: 400, height: 600, preset: 'medium' },
  vrmModelPath: '/avatar.vrm',
  cameraSettings: {
    position: { x: 0, y: 1.2, z: 5 },
    target: { x: 0, y: 1, z: 0 },
    zoom: 1
  },
  chatWindowVisible: false,
  userName: 'User',
  mascotName: 'Mascot',
  systemPromptCore: 'ã‚ãªãŸã¯è¦ªã—ã¿ã‚„ã™ã„ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ãƒã‚¹ã‚³ãƒƒãƒˆã§ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ã®ä¼šè©±ã‚’æ¥½ã—ã¿ã€å½¹ç«‹ã¤æƒ…å ±ã‚’æä¾›ã—ã¦ãã ã•ã„ã€‚',
  theme: 'default',
  defaultExpression: 'neutral',
  expressionSettings: {
    happy: { enabled: true, defaultWeight: 1 },
    sad: { enabled: true, defaultWeight: 1 },
    angry: { enabled: true, defaultWeight: 1 },
    surprised: { enabled: true, defaultWeight: 1 },
    relaxed: { enabled: true, defaultWeight: 1 },
    neutral: { enabled: true, defaultWeight: 1 },
    fun: { enabled: true, defaultWeight: 1 },
    joy: { enabled: true, defaultWeight: 1 },
    sorrow: { enabled: true, defaultWeight: 1 },
    aa: { enabled: true, defaultWeight: 1 },
    ih: { enabled: true, defaultWeight: 1 },
    ou: { enabled: true, defaultWeight: 1 },
    ee: { enabled: true, defaultWeight: 1 },
    oh: { enabled: true, defaultWeight: 1 },
    blink: { enabled: true, defaultWeight: 1 },
    blinkL: { enabled: true, defaultWeight: 1 },
    blinkR: { enabled: true, defaultWeight: 1 }
  },
  mainWindowBounds: { x: 967, y: 211, width: 400, height: 600 }
}
[SettingsStore] æ—¢å­˜ã®è¡¨æƒ…è¨­å®šã‚’ä½¿ç”¨ã—ã¾ã™: [
  'happy',   'sad',
  'angry',   'surprised',
  'relaxed', 'neutral',
  'fun',     'joy',
  'sorrow',  'aa',
  'ih',      'ou',
  'ee',      'oh',
  'blink',   'blinkL',
  'blinkR'
]
[SettingsStore] è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜å ´æ‰€: /Users/hirose/Library/Application Support/llmdesktopmascot/app-settings.json
[SettingsStore] ç¾åœ¨ä¿å­˜ã•ã‚Œã¦ã„ã‚‹ãƒ‡ãƒ¼ã‚¿: [Object: null prototype] {
  windowSize: { width: 400, height: 600, preset: 'medium' },
  vrmModelPath: '/avatar.vrm',
  cameraSettings: {
    position: { x: 0, y: 1.2, z: 5 },
    target: { x: 0, y: 1, z: 0 },
    zoom: 1
  },
  chatWindowVisible: false,
  userName: 'User',
  mascotName: 'Mascot',
  systemPromptCore: 'ã‚ãªãŸã¯è¦ªã—ã¿ã‚„ã™ã„ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ãƒã‚¹ã‚³ãƒƒãƒˆã§ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ã®ä¼šè©±ã‚’æ¥½ã—ã¿ã€å½¹ç«‹ã¤æƒ…å ±ã‚’æä¾›ã—ã¦ãã ã•ã„ã€‚',
  theme: 'default',
  defaultExpression: 'neutral',
  expressionSettings: {
    happy: { enabled: true, defaultWeight: 1 },
    sad: { enabled: true, defaultWeight: 1 },
    angry: { enabled: true, defaultWeight: 1 },
    surprised: { enabled: true, defaultWeight: 1 },
    relaxed: { enabled: true, defaultWeight: 1 },
    neutral: { enabled: true, defaultWeight: 1 },
    fun: { enabled: true, defaultWeight: 1 },
    joy: { enabled: true, defaultWeight: 1 },
    sorrow: { enabled: true, defaultWeight: 1 },
    aa: { enabled: true, defaultWeight: 1 },
    ih: { enabled: true, defaultWeight: 1 },
    ou: { enabled: true, defaultWeight: 1 },
    ee: { enabled: true, defaultWeight: 1 },
    oh: { enabled: true, defaultWeight: 1 },
    blink: { enabled: true, defaultWeight: 1 },
    blinkL: { enabled: true, defaultWeight: 1 },
    blinkR: { enabled: true, defaultWeight: 1 }
  },
  mainWindowBounds: { x: 967, y: 211, width: 400, height: 600 }
}
[SettingsStore] æ—¢å­˜ã®è¡¨æƒ…è¨­å®šã‚’ä½¿ç”¨ã—ã¾ã™: [
  'happy',   'sad',
  'angry',   'surprised',
  'relaxed', 'neutral',
  'fun',     'joy',
  'sorrow',  'aa',
  'ih',      'ou',
  'ee',      'oh',
  'blink',   'blinkL',
  'blinkR'
]
[SettingsStore] è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜å ´æ‰€: /Users/hirose/Library/Application Support/llmdesktopmascot/app-settings.json
[SettingsStore] ç¾åœ¨ä¿å­˜ã•ã‚Œã¦ã„ã‚‹ãƒ‡ãƒ¼ã‚¿: [Object: null prototype] {
  windowSize: { width: 400, height: 600, preset: 'medium' },
  vrmModelPath: '/avatar.vrm',
  cameraSettings: {
    position: { x: 0, y: 1.2, z: 5 },
    target: { x: 0, y: 1, z: 0 },
    zoom: 1
  },
  chatWindowVisible: false,
  userName: 'User',
  mascotName: 'Mascot',
  systemPromptCore: 'ã‚ãªãŸã¯è¦ªã—ã¿ã‚„ã™ã„ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ãƒã‚¹ã‚³ãƒƒãƒˆã§ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ã®ä¼šè©±ã‚’æ¥½ã—ã¿ã€å½¹ç«‹ã¤æƒ…å ±ã‚’æä¾›ã—ã¦ãã ã•ã„ã€‚',
  theme: 'default',
  defaultExpression: 'neutral',
  expressionSettings: {
    happy: { enabled: true, defaultWeight: 1 },
    sad: { enabled: true, defaultWeight: 1 },
    angry: { enabled: true, defaultWeight: 1 },
    surprised: { enabled: true, defaultWeight: 1 },
    relaxed: { enabled: true, defaultWeight: 1 },
    neutral: { enabled: true, defaultWeight: 1 },
    fun: { enabled: true, defaultWeight: 1 },
    joy: { enabled: true, defaultWeight: 1 },
    sorrow: { enabled: true, defaultWeight: 1 },
    aa: { enabled: true, defaultWeight: 1 },
    ih: { enabled: true, defaultWeight: 1 },
    ou: { enabled: true, defaultWeight: 1 },
    ee: { enabled: true, defaultWeight: 1 },
    oh: { enabled: true, defaultWeight: 1 },
    blink: { enabled: true, defaultWeight: 1 },
    blinkL: { enabled: true, defaultWeight: 1 },
    blinkR: { enabled: true, defaultWeight: 1 }
  },
  mainWindowBounds: { x: 967, y: 211, width: 400, height: 600 }
}
[SettingsStore] æ—¢å­˜ã®è¡¨æƒ…è¨­å®šã‚’ä½¿ç”¨ã—ã¾ã™: [
  'happy',   'sad',
  'angry',   'surprised',
  'relaxed', 'neutral',
  'fun',     'joy',
  'sorrow',  'aa',
  'ih',      'ou',
  'ee',      'oh',
  'blink',   'blinkL',
  'blinkR'
]
[ToolsService] ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‘ã‚¹: /Users/hirose/dev/mascot
[ToolsService] ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª: /Users/hirose/dev/mascot
[ToolsService] ãƒªã‚½ãƒ¼ã‚¹ãƒ‘ã‚¹: /Users/hirose/dev/mascot/node_modules/electron/dist/Electron.app/Contents/Resources
[ToolsService] tools.jsonå€™è£œãƒ‘ã‚¹ã‚’ãƒã‚§ãƒƒã‚¯: /Users/hirose/dev/mascot/src/config/tools.json
[ToolsService] tools.jsonãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸ: /Users/hirose/dev/mascot/src/config/tools.json
[ToolsService] ãƒ„ãƒ¼ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¿ä¸­: /Users/hirose/dev/mascot/src/config/tools.json
[ToolsService] 3å€‹ã®ãƒ„ãƒ¼ãƒ«ãŒæ­£å¸¸ã«èª­ã¿è¾¼ã¾ã‚Œã¾ã—ãŸ:
  - set_expression: VRMãƒã‚¹ã‚³ãƒƒãƒˆã®è¡¨æƒ…ã‚’è¨­å®šã—ã¾ã™ã€‚è¡¨æƒ…ã‚’å¤‰ãˆã‚‹ã“ã¨ã§ã€ãƒã‚¹ã‚³ãƒƒãƒˆã®æ„Ÿæƒ…è¡¨ç¾ã‚’è±Šã‹ã«ã§ãã¾ã™ã€‚
  - get_weather_forecast: æŒ‡å®šã•ã‚ŒãŸéƒ½å¸‚ã®ç¾åœ¨ã®å¤©æ°—äºˆå ±ã¨æ°—æ¸©ã‚’å–å¾—ã—ã¾ã™ï¼ˆãƒ‡ãƒ¢ç”¨é–¢æ•°ï¼‰ã€‚
  - set_reminder: æŒ‡å®šã•ã‚ŒãŸæ™‚é–“ã«ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼ã‚’è¨­å®šã—ã¾ã™ï¼ˆãƒ‡ãƒ¢ç”¨é–¢æ•°ï¼‰ã€‚
Function Callingç”¨ãƒ„ãƒ¼ãƒ«ã‚’èª­ã¿è¾¼ã¿: 3 å€‹
æ§‹ç¯‰ã•ã‚ŒãŸã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ: Your role is a desktop mascot named Mascot. You operate on the desktop of a user whose name is User. In all following interactions, you must use the names Mascot (for yourself) and User (for the user) correctly and appropriately. ã‚ãªãŸã¯è¦ªã—ã¿ã‚„ã™ã„ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ãƒã‚¹ã‚³ãƒƒãƒˆã§ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ã®ä¼šè©±ã‚’æ¥½ã—ã¿ã€å½¹ç«‹ã¤æƒ…å ±ã‚’æä¾›ã—ã¦ãã ã•ã„ã€‚
Gemini Service ãŒæ­£å¸¸ã«åˆæœŸåŒ–ã•ã‚Œã¾ã—ãŸï¼ˆFunction Callingå¯¾å¿œï¼‰
Gemini Service ã¨Function Calling ãŒåˆæœŸåŒ–ã•ã‚Œã¾ã—ãŸ
[Main] æ–°ã—ã„IPCæ§‹é€ ã§ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã‚’è¨­å®šä¸­...
[SettingsHandler] è¨­å®šé–¢é€£IPCãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã‚’ç™»éŒ²ä¸­...
[SettingsHandler] ã™ã¹ã¦ã®è¨­å®šé–¢é€£IPCãƒãƒ³ãƒ‰ãƒ©ãƒ¼ãŒç™»éŒ²ã•ã‚Œã¾ã—ãŸ
[ChatHandler] ãƒãƒ£ãƒƒãƒˆé–¢é€£IPCãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã‚’ç™»éŒ²ä¸­...
[ChatHandler] ã™ã¹ã¦ã®ãƒãƒ£ãƒƒãƒˆé–¢é€£IPCãƒãƒ³ãƒ‰ãƒ©ãƒ¼ãŒç™»éŒ²ã•ã‚Œã¾ã—ãŸ
[VRMHandler] VRM/ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦åˆ¶å¾¡é–¢é€£IPCãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã‚’ç™»éŒ²ä¸­...
[VRMHandler] ã™ã¹ã¦ã®VRM/ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦åˆ¶å¾¡é–¢é€£IPCãƒãƒ³ãƒ‰ãƒ©ãƒ¼ãŒç™»éŒ²ã•ã‚Œã¾ã—ãŸ
[Main] æ–°ã—ã„IPCæ§‹é€ ã§ã®ãƒãƒ³ãƒ‰ãƒ©ãƒ¼è¨­å®šãŒå®Œäº†ã—ã¾ã—ãŸ
[SettingsStore] ãƒ¡ã‚¤ãƒ³ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ä½ç½®ã‚’èª­ã¿è¾¼ã¿: { x: 967, y: 211, width: 400, height: 600 }
[MainWindow] ãƒ¡ã‚¤ãƒ³ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ä½œæˆ - ä¿å­˜ã•ã‚ŒãŸä½ç½®: { x: 967, y: 211, width: 400, height: 600 }
[MainWindow] ãƒ¡ã‚¤ãƒ³ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦è¨­å®š: {
  name: 'main',
  width: 400,
  height: 600,
  minWidth: 300,
  minHeight: 400,
  transparent: true,
  frame: false,
  titleBarStyle: 'hiddenInset',
  titleBarOverlay: false,
  thickFrame: false,
  hasShadow: false,
  show: false,
  alwaysOnTop: true,
  webPreferences: {
    preload: '/Users/hirose/dev/mascot/.vite/build/preload.js',
    contextIsolation: true,
    nodeIntegration: false
  },
  position: { x: 967, y: 211 }
}
[WindowManager] Window created and stored: main
[WindowManager] Current windows: [ 'main' ]
[WindowManager] Loading URL for main: http://localhost:3000
[WindowManager] Window created and stored: speechBubble
[WindowManager] Current windows: [ 'main', 'speechBubble' ]
[WindowManager] Loading URL for speechBubble: http://localhost:3000/renderer/speech_bubble/
[WindowManagerController] All windows initialized successfully
[SpeechBubbleWindow] HTMLã®ãƒ­ãƒ¼ãƒ‰ãŒå®Œäº†ã—ã¾ã—ãŸ
[MainWindow] ãƒ¡ã‚¤ãƒ³ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã®æº–å‚™ãŒå®Œäº†ã—ã¾ã—ãŸ
[SpeechBubbleWindow] ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã®æº–å‚™ãŒå®Œäº†ã—ã¾ã—ãŸ
[MainWindow] Starting optimized titlebar monitoring for main window...
[Main] èµ·å‹•æ™‚å‹•çš„tools.jsonç”Ÿæˆã‚’é–‹å§‹
[Main] å‹•çš„tools.jsonç”Ÿæˆã‚’é–‹å§‹
[Main] è¡¨æƒ…ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°è©³ç´°:
  - åˆ©ç”¨å¯èƒ½è¡¨æƒ…ï¼ˆé‡è¤‡é™¤å»å¾Œ): []
  - è¡¨æƒ…è¨­å®š: {
  happy: { enabled: true, defaultWeight: 1 },
  sad: { enabled: true, defaultWeight: 1 },
  angry: { enabled: true, defaultWeight: 1 },
  surprised: { enabled: true, defaultWeight: 1 },
  relaxed: { enabled: true, defaultWeight: 1 },
  neutral: { enabled: true, defaultWeight: 1 },
  fun: { enabled: true, defaultWeight: 1 },
  joy: { enabled: true, defaultWeight: 1 },
  sorrow: { enabled: true, defaultWeight: 1 },
  aa: { enabled: true, defaultWeight: 1 },
  ih: { enabled: true, defaultWeight: 1 },
  ou: { enabled: true, defaultWeight: 1 },
  ee: { enabled: true, defaultWeight: 1 },
  oh: { enabled: true, defaultWeight: 1 },
  blink: { enabled: true, defaultWeight: 1 },
  blinkL: { enabled: true, defaultWeight: 1 },
  blinkR: { enabled: true, defaultWeight: 1 }
}
[Main] æœ‰åŠ¹ãªè¡¨æƒ…æ•°: 0
[Main] æœ‰åŠ¹ãªè¡¨æƒ…å: []
[Main] å‹•çš„tools.jsonä¿å­˜å®Œäº†: /Users/hirose/dev/mascot/.vite/build/tools.json
[Main] å‹•çš„tools.jsonä¿å­˜å®Œäº†: /Users/hirose/dev/mascot/tools.json
[Main] å‹•çš„tools.jsonä¿å­˜å®Œäº†: /Users/hirose/dev/mascot/tools.json
[ToolsService] ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‘ã‚¹: /Users/hirose/dev/mascot
[ToolsService] ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª: /Users/hirose/dev/mascot
[ToolsService] ãƒªã‚½ãƒ¼ã‚¹ãƒ‘ã‚¹: /Users/hirose/dev/mascot/node_modules/electron/dist/Electron.app/Contents/Resources
[ToolsService] tools.jsonå€™è£œãƒ‘ã‚¹ã‚’ãƒã‚§ãƒƒã‚¯: /Users/hirose/dev/mascot/src/config/tools.json
[ToolsService] tools.jsonãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸ: /Users/hirose/dev/mascot/src/config/tools.json
[ToolsService] ãƒ„ãƒ¼ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¿ä¸­: /Users/hirose/dev/mascot/src/config/tools.json
[ToolsService] 3å€‹ã®ãƒ„ãƒ¼ãƒ«ãŒæ­£å¸¸ã«èª­ã¿è¾¼ã¾ã‚Œã¾ã—ãŸ:
  - set_expression: VRMãƒã‚¹ã‚³ãƒƒãƒˆã®è¡¨æƒ…ã‚’è¨­å®šã—ã¾ã™ã€‚è¡¨æƒ…ã‚’å¤‰ãˆã‚‹ã“ã¨ã§ã€ãƒã‚¹ã‚³ãƒƒãƒˆã®æ„Ÿæƒ…è¡¨ç¾ã‚’è±Šã‹ã«ã§ãã¾ã™ã€‚
  - get_weather_forecast: æŒ‡å®šã•ã‚ŒãŸéƒ½å¸‚ã®ç¾åœ¨ã®å¤©æ°—äºˆå ±ã¨æ°—æ¸©ã‚’å–å¾—ã—ã¾ã™ï¼ˆãƒ‡ãƒ¢ç”¨é–¢æ•°ï¼‰ã€‚
  - set_reminder: æŒ‡å®šã•ã‚ŒãŸæ™‚é–“ã«ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼ã‚’è¨­å®šã—ã¾ã™ï¼ˆãƒ‡ãƒ¢ç”¨é–¢æ•°ï¼‰ã€‚
[Main] ToolsServiceå†èª­ã¿è¾¼ã¿å®Œäº†
Gemini Service ã‚’å¼·åˆ¶å†åˆæœŸåŒ–ä¸­...
[ToolsService] ãƒ„ãƒ¼ãƒ«ã¯æ—¢ã«èª­ã¿è¾¼ã¿æ¸ˆã¿ã§ã™
Function Callingç”¨ãƒ„ãƒ¼ãƒ«ã‚’èª­ã¿è¾¼ã¿: 3 å€‹
æ§‹ç¯‰ã•ã‚ŒãŸã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ: Your role is a desktop mascot named Mascot. You operate on the desktop of a user whose name is User. In all following interactions, you must use the names Mascot (for yourself) and User (for the user) correctly and appropriately. ã‚ãªãŸã¯è¦ªã—ã¿ã‚„ã™ã„ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ãƒã‚¹ã‚³ãƒƒãƒˆã§ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ã®ä¼šè©±ã‚’æ¥½ã—ã¿ã€å½¹ç«‹ã¤æƒ…å ±ã‚’æä¾›ã—ã¦ãã ã•ã„ã€‚
Gemini Service ãŒæ­£å¸¸ã«åˆæœŸåŒ–ã•ã‚Œã¾ã—ãŸï¼ˆFunction Callingå¯¾å¿œï¼‰
[Main] èµ·å‹•æ™‚å‹•çš„tools.jsonç”Ÿæˆå®Œäº†
